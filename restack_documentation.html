<!-- This is concatination of html pages of restack documentation -->



<!DOCTYPE html>
<html>

<head>
  <title>Architecture - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Getting started</span></div>
              <div>Architecture</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Getting started</div>
                  <div>
                    <h1>Architecture</h1>
                  </div>
                </div>
                <div>
                  <p>Restack is built with Temporal for reliable orchestration and Kubernetes for scalable deployments
                  </p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>We’ve designed Restack to let you focus on coding while the framework handles the rest.</p>
                <h3>
                  <div><a>​</a></div><span>Clients</span>
                </h3>
                <p>You can use any client to schedule, query, and send events to the Restack Engine.</p>
                <h3>
                  <div><a>​</a></div><span>Engine</span>
                </h3>
                <p>The Engine, powered by Temporal, is responsible for orchestrating the workflows and functions.
                  It ensures that your workflows are executed reliably, even in the presence of failures.</p>
                <h3>
                  <div><a>​</a></div><span>Services</span>
                </h3>
                <p>Your workflows and functions can be coded in multiple languages.
                  Each service is executed separately and has its own GRPC connection to the Restack Engine.
                  Services can be running in a single container or scaled horizontally on multiple containers in
                  Kubernetes.</p>
                <h2>
                  <div><a>​</a></div><span>Dependencies</span>
                </h2>
                <h3>
                  <div><a>​</a></div><span>Temporal</span>
                </h3>
                <p>Open-source durable execution platform to guarantee successful execution, even in the presence of
                  failures.
                  Learn more about <a>Temporal</a>.</p>
                <h3>
                  <div><a>​</a></div><span>Kubernetes</span>
                </h3>
                <p>Open-source system for automating deployment, scaling, and management of containerized applications.
                  Learn more about <a>Kubernetes</a>.</p>
              </div>
              <div><a><span>Introduction</span></a><a><span>Quickstart</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>Clients</a></li>
                <li><a>Engine</a></li>
                <li><a>Services</a></li>
                <li><a>Dependencies</a></li>
                <li><a>Temporal</a></li>
                <li><a>Kubernetes</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Realtime events - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Realtime events</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Realtime events</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>An autonomous system must perceive the world as human do.
                  Restack Engine enables your workflows to listen to realtime events in json, audio or video with the
                  guarantee that the system ingest all events.
                  No need to build queuing architecture or complex architecture like SQS, Kafka, Kinesis or Redis.</p>
                <h2>
                  <div><a>​</a></div><span>Define an Event</span>
                </h2>
                <p>We have simplified how you can define and events inside your workflows. Scenarios can happen where
                  certain workflows will execute flows depending on the event they have received.</p>
                <p>First step is to define an event. We will define an event called <code>MessageEvent</code>. It will
                  later be d by a workflow that will receive this message and answer with a predefined response.</p>
                <p><code>MessageEvent</code> will have a type tied to it. This will signify the type that the event will
                  return to its caller, this way we have a typed response after calling the event.</p>
                <p>We will also define an event that will ending the workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> defineEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>export</span> <span>type</span> <span>MessageEventInput</span> <span>=</span>
                          <span>{</span></span>
                        <span> message<span>:</span> <span>string</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>export</span> <span>type</span> <span>MessageEvent</span> <span>=</span>
                          <span>{</span></span>
                        <span> response<span>:</span> <span>string</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> MessageEvent <span>=</span>
                          <span><span>defineEvent</span><span><span>&lt;</span>MessageEventInput<span>&gt;</span></span></span><span>(</span><span>"Message"</span><span>)</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> goodbyeEvent <span>=</span>
                          <span>defineEvent</span><span>(</span><span>"goodbyeEvent"</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>the Event in a Workflow</span>
                </h2>
                <p>Now that the event has been defined, we can safely set its logic inside a workflow. For this sample,
                  we will show how you can call a function as a step in the workflow that will store the message in an
                  external database.</p>
                <p>We will also make use of the <code>condition</code> function from the Restack AI framework. This is
                  very useful in case you want to keep the workflow running until said condition is met. After it is
                  met, its promise is resolved and the workflow execution continues from this point.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> log<span>,</span> step<span>,</span> condition
                          <span>}</span> <span>from</span> <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> onEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>import</span> <span>*</span> <span>as</span> functions <span>from</span>
                          <span>"./functions"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> MessageEvent<span>,</span> MessageEventInput
                          <span>}</span> <span>from</span> <span>"./MessageEvent"</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>workflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> goodbyeReceived <span>=</span> <span>false</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>MessageEvent<span>,</span> <span>async</span>
                          <span>(</span><span>{</span> message <span>}</span><span>:</span>
                          MessageEventInput<span>)</span> <span>=&gt;</span> <span>{</span></span>
                        <span> <span>const</span> result <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span></span>
                        <span> taskQueue<span>:</span> <span>"messageTaskQueue"</span><span>,</span></span>
                        <span>
                          <span>}</span><span>)</span><span>.</span><span>storeMessageInDb</span><span>(</span><span>{</span>
                          message <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> result<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>goodbyeEvent<span>,</span> <span>async</span>
                          <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span></span>
                        <span> goodbyeReceived <span>=</span> <span>true</span><span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>await</span> <span>condition</span><span>(</span><span>(</span><span>)</span>
                          <span>=&gt;</span> goodbyeReceived<span>)</span><span>;</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"goodbye condition
                            met"</span><span>)</span><span>;</span></span>
                        <span>// You can either return or add more steps here</span>
                        <span>// You can even add as many conditions as you please.</span>
                        <span> <span>return</span> <span>true</span><span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Trigger the Event</span>
                </h2>
                <p>Now that we have our event defined and d in our workflow, the final step is to trigger this event.
                  This can happen either from another workflow or from a non-workflow space, so you are not tied to send
                  events only between workflows. These events can be triggered from anywhere in your application, as
                  long as you can create an instance of the Restack client.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                        <span><span>const</span> runId <span>=</span> <span>await</span>
                          client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                        <span> workflowName<span>:</span> <span>"MessageWorkflow"</span><span>,</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span> taskQueue<span>:</span> <span>"messageTaskQueue"</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                        <span><span>const</span> message <span>=</span> <span>await</span>
                          client<span>.</span><span>sendWorkflowEvent</span><span>(</span><span>{</span></span>
                        <span> event<span>:</span> <span>{</span></span>
                        <span> name<span>:</span> MessageEvent<span>.</span>name<span>,</span></span>
                        <span> input<span>:</span> <span>{</span> message<span>:</span> data<span>.</span>message
                          <span>}</span><span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> workflow<span>:</span> <span>{</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span>,</span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                        <span><span>console</span><span>.</span><span>log</span><span>(</span><span>"stored in
                            db"</span><span>,</span> message<span>)</span><span>;</span></span>
                        <span>// Let's send goodbye event to end the workflow</span>
                        <span><span>await</span>
                          client<span>.</span><span>sendWorkflowEvent</span><span>(</span><span>{</span></span>
                        <span> event<span>:</span> <span>{</span></span>
                        <span> name<span>:</span> goodbyeEvent<span>.</span>name<span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> workflow<span>:</span> <span>{</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span>,</span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
              </div>
              <div><a><span>Multi step workflows</span></a><a><span>Feedback loops</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Define an Event</a></li>
                <li><a>the Event in a Workflow</a></li>
                <li><a>Trigger the Event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Feedback loops - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Feedback loops</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Feedback loops</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>Let users give feedback to their autonomous AI and put necessary guardrails or quality loops to
                  prevent agents from veering off course.</p>
                <h2>
                  <div><a>​</a></div><span>Create a feedback loop</span>
                </h2>
                <p>To add <code>human-in-the-loop</code> capabilities to your autonomous workflow, just define an event
                  and handle it in the workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> log<span>,</span> step<span>,</span> condition
                          <span>}</span> <span>from</span> <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> onEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> feedbackEvent<span>,</span> FeedbackEvent<span>,</span>
                          endEvent<span>,</span> EndEvent <span>}</span> <span>from</span>
                          <span>"../events"</span><span>;</span></span>
                        <span><span>import</span> <span>*</span> <span>as</span> functions <span>from</span>
                          <span>"../functions"</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>humanLoopWorkflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> endWorkflow <span>=</span> <span>false</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>feedbackEvent<span>,</span> <span>async</span>
                          <span>(</span>event<span>:</span> FeedbackEvent<span>)</span> <span>=&gt;</span>
                          <span>{</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"Received
                            feedback"</span><span>,</span> <span>{</span> feedback<span>:</span>
                          event<span>.</span>feedback <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>const</span> feedback <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span><span>}</span><span>)</span><span>.</span><span>feedback</span><span>(</span><span>{</span></span>
                        <span> feedback<span>:</span> event<span>.</span>feedback<span>,</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> feedback<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>endEvent<span>,</span> <span>async</span>
                          <span>(</span>event<span>:</span> EndEvent<span>)</span> <span>=&gt;</span>
                          <span>{</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"Received end"</span><span>,</span>
                          <span>{</span> end<span>:</span> event<span>.</span>end
                          <span>}</span><span>)</span><span>;</span></span>
                        <span> endWorkflow <span>=</span> event<span>.</span>end<span>;</span></span>
                        <span> <span>return</span> event<span>.</span>end<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>await</span> <span>condition</span><span>(</span><span>(</span><span>)</span>
                          <span>=&gt;</span> endWorkflow<span>)</span><span>;</span></span>
                        <span> <span>const</span> goodbye <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span><span>}</span><span>)</span><span>.</span><span>goodbye</span><span>(</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> goodbye<span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Examples</span>
                </h2>
                <div> <a>
                    <div>
                      <h2>Human in the loop</h2>
                      <div>
                        <p>A basic example in Python using Restack AI library to build human feedback
                          loops</p>
                      </div>
                    </div>
                  </a><a>
                    <div>
                      <h2>Human in the loop</h2>
                      <div>
                        <p>A basic example in Typescript using Restack AI library to build human feedback
                          loops</p>
                      </div>
                    </div>
                  </a></div>
                <p>Note that workflows can wait up to 90 days for human feedback and your services will not consume any
                  resource while waiting for the human input.</p>
                <p>On Restack Cloud, we can offer up to 1 year of retention, <a>contact us</a> for details.</p>
              </div>
              <div><a><span>Realtime events</span></a><a><span>Schedules</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Create a feedback loop</a></li>
                <li><a>Examples</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Memory - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Memory</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Memory</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>Complete state of your function and workflow is captured, so you no longer need to automate, track
                  and validate state to build autonomous AI systems that learn, remember, adapt and make decisions over
                  time.</p>
                <h1>
                  <div><a>​</a></div><span>Long-term memory</span>
                </h1>
                <p>To be able to use long-term memory, you need to define a memory in the workflow.
                  And set a handler to update the memory.</p>
                <p>For example, we want to keep track of user feedback:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>type</span> <span>Feedbacks</span> <span>=</span> <span>{</span></span>
                        <span> feedbacks<span>:</span>
                          <span>string</span><span>[</span><span>]</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> defineMemory <span>}</span> <span>from</span>
                          <span>"@restackio/ai/memory"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> feedbacks <span>=</span>
                          <span><span>defineMemory</span><span><span>&lt;</span>Feedbacks<span>&gt;</span></span></span><span>(</span><span>"feedbacks"</span><span>)</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>workflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> feedbacks<span>:</span> Feedbacks <span>=</span>
                          <span>""</span><span>;</span></span>
                        <span> <span>handleMemory</span><span>(</span>feedbacks<span>,</span>
                          <span>(</span>feedbacks<span>:</span> Feedbacks<span>)</span><span>:</span> Feedbacks
                          <span>=&gt;</span> <span>{</span></span>
                        <span> <span>return</span> feedbacks<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span>// on event or after a step, update the memory</span>
                        <span> feedbacks <span>=</span> <span>{</span> feedbacks<span>:</span>
                          <span>[</span><span>"newFeedback"</span><span>]</span> <span>}</span><span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <p>Then from any client, you can query the memory:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span>// Without connection options (for local development)</span>
                        <span><span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                        <span><span>const</span> feedbacks <span>=</span>
                          client<span>.</span><span>getWorkflowMemory</span><span>(</span>workflowId<span>,</span>
                          runId<span>,</span> <span>"feedbacks"</span><span>)</span><span>;</span></span>
                        <span><span>console</span><span>.</span><span>log</span><span>(</span><span>"Workflow
                            memory:"</span><span>,</span> feedbacks<span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h1>
                  <div><a>​</a></div><span>Lifetime memory</span>
                </h1>
                <p>Lifetime memory goes beyond Restack Engine data retention by leveraging S3 compatible buckets and
                  vector embedding.
                  This feature is in alpha, join our <a>community</a> to stay tuned for the release.</p>
              </div>
              <div><a><span>Rate limits</span></a><a><span>Self-improving models</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Long-term memory</a></li>
                <li><a>Lifetime memory</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Enforce rate limits - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Enforce rate limits</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Enforce rate limits</h1>
                  </div>
                </div>
                <div>
                  <p>When dealing with external APIs, you often need to limit the number of requests to avoid
                    overwhelming the API provider or your own system.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>How it works</span>
                </h2>
                <p>Restack framework supports rate limiting out of the box.</p>
                <p>Let’s take an example of calling OpenAI: where you want to limit the number of requests to 10
                  requests per second and 1 concurrent request.</p>
                <p>In your workflows, you can define a task queue name for any step:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> step <span>}</span> <span>from</span>
                          <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>const</span> response <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>{</span>taskQueue<span>:</span>
                          <span>"openai"</span><span>}</span><span>)</span><span>.</span><span>openAiPrompt</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>And you can add a rate limit when starting services.
                  By adding the same taskQueue name, Restack Engine will enforce the rate limit on that task queue:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./client"</span><span>;</span></span>
                        <span>client<span>.</span><span>startService</span><span>(</span><span>{</span></span>
                        <span> taskQueue<span>:</span> <span>"openai"</span></span>
                        <span>,</span>
                        <span> functions<span>:</span> <span>{</span> openAiPrompt <span>}</span><span>,</span></span>
                        <span> options<span>:</span> <span>{</span></span>
                        <span> rateLimit<span>:</span> <span>10</span><span>,</span></span>
                        <span> maxConcurrentFunctionRuns<span>:</span> <span>1</span><span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, Restack engine will enforce that maximum 10 executions per second and 1 concurrent
                  execution per task queue.</p>
                <p>Effectively dealing with rate limits on external APIs, without having to manage queueing yourself.
                </p>
              </div>
              <div><a><span>Schedules</span></a><a><span>Memory</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>How it works</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Schedules - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Schedules</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <header>
              <div>
                <div>Features</div>
                <div>
                  <h1>Schedules</h1>
                </div>
              </div>
              <div>
                <p>Scheduling worklows</p>
              </div>
            </header>
            <div>
              <p>With Restack Engine, you can schedule workflows to run on specific times.</p>
              <p>When not running, workflows will not consume any resources.</p>
              <div>
                <div>Copy</div>
                <div>
                  <pre><code><span><span>const</span> runId <span>=</span> <span>await</span>
                        client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                      <span> workflowName<span>:</span> <span>"exampleWorkflow"</span><span>,</span></span>
                      <span> workflowId<span>:</span> <span>"unique-id"</span><span>,</span></span>
                      <span> input<span>:</span> <span>{</span> key<span>:</span> <span>"value"</span>
                        <span>}</span><span>,</span></span>
                      <span> schedule<span>:</span> <span>{</span></span>
                      <span> calendars<span>:</span> <span>[</span><span>{</span> dayOfWeek<span>:</span>
                        <span>"0"</span><span>,</span> hour<span>:</span> <span>10</span>
                        <span>}</span><span>]</span><span>,</span></span>
                      <span> <span>}</span><span>,</span></span>
                      <span><span>}</span><span>)</span><span>;</span></span>
                    </code></pre>
                </div>
              </div>
            </div>
            <div><a><span>Feedback loops</span></a><a><span>Rate limits</span></a></div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Self-improving models and distillation - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Self-improving models and distillation</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Self-improving models and distillation</h1>
                  </div>
                </div>
                <div>
                  <p>Using Restack’s framework with <strong>reinforcement learning</strong> (RL) and execution feedback,
                    developers can build adaptable, high-performance models.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>What are self-improving models?</span>
                </h2>
                <p><strong>Self-improving models</strong> dynamically learn from their environment, adjusting their
                  parameters as they encounter new data or feedback. Unlike static models, these models continue to
                  evolve, reducing the need for human intervention:</p>
                <ul>
                  <li><strong>Dynamic Adaptation:</strong> Adjust parameters based on execution feedback.</li>
                  <li><strong>Iterative Improvement:</strong> Optimize performance across multiple tasks through
                    repeated attempts.</li>
                  <li><strong>Autonomy:</strong> Adapt to changing environments without manual re-training.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>How to use in combination</span>
                </h2>
                <p>Using Restack’s framework with <strong>Reinforcement Learning with Execution Feedback
                    (RLEF)</strong>,
                  developers can build <strong>adaptive models</strong> that continuously improve through feedback.</p>
                <p><strong>Distillation</strong> complements this by creating smaller, efficient versions of these
                  models,
                  enabling seamless deployment without sacrificing performance.
                  This combination of <strong>self-improving models</strong> and <strong>distillation</strong> within
                  Restack offers a powerful way to build,
                  optimize, and deploy scalable, autonomous AI systems.</p>
                <p>With RL-based execution feedback and distillation,
                  developers can maintain high flexibility while ensuring production models remain lightweight and fast.
                </p>
                <p>Restack enables developers to combine both concepts effectively:</p>
                <ul>
                  <li><strong>Initial Learning with RLEF</strong>: Use a large self-improving model to iterate on tasks
                    and incorporate execution feedback.</li>
                  <li><strong>Distill for Production</strong>: Once the model reaches optimal performance, distill it
                    into a smaller version for deployment.</li>
                  <li><strong>Ongoing Improvements</strong>: Use the distillation process periodically to keep
                    production models lightweight while benefiting from continuous learning in the background.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>How to build Restack workflows for RLEF</span>
                </h2>
                <p>You can use Restack <a>multi-step workflows</a> to build RLEF workflows.</p>
                <p>For example, you can use the <strong>Google Gemini</strong> model and <strong>Vertex AI code
                    interpreter extension</strong> to gather data used in your machine learning pipeline:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> scheduleWorkflow<span>,</span> queryModel
                          <span>}</span> <span>from</span> <span>"restack-ai"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> extensionCodeInterpreter <span>}</span>
                          <span>from</span> <span>"@google-cloud/vertexai"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span>
                          <span>feedbackLoop</span><span>(</span>task<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span> <span>let</span> solution <span>=</span> <span>await</span>
                          <span>queryModel</span><span>(</span><span>"Generate code for task: "</span> <span>+</span>
                          task<span>)</span><span>;</span></span>
                        <span> <span>for</span> <span>(</span><span>let</span> attempt <span>=</span>
                          <span>0</span><span>;</span> attempt <span>&lt;</span> <span>200</span><span>;</span>
                          attempt<span>++</span><span>)</span> <span>{</span></span>
                        <span> <span>const</span> feedback <span>=</span> <span>await</span>
                          <span>extensionCodeInterpreter</span><span>(</span>solution<span>)</span><span>;</span></span>
                        <span> <span>if</span> <span>(</span>feedback<span>.</span>success<span>)</span>
                          <span>return</span> solution<span>;</span></span>
                        <span> solution <span>=</span> <span>await</span>
                          <span>queryModel</span><span>(</span><span>"Refine solution"</span><span>,</span>
                          <span>{</span> feedback <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span> <span>throw</span> <span>new</span> <span>Error</span><span>(</span><span>"Failed to
                            generate valid solution within 3 attempts."</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>// Start the feedback loop as a workflow on Restack</span>
                        <span><span>scheduleWorkflow</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span>
                          <span>feedbackLoop</span><span>(</span><span>"Sorting
                            Algorithm"</span><span>)</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p><strong>Explanation:</strong>
                  A code generation model powered by Restack and <strong>Vertex AI</strong> receives
                  <strong>feedback</strong> from <strong>test executions</strong>. If a solution fails, the feedback is
                  used to <strong>refine the code</strong>. This process repeats until all tests pass, ensuring the
                  model produces <strong>correct outputs autonomously</strong>.
                </p>
                <h2>
                  <div><a>​</a></div><span>Reinforcement Learning with Execution Feedback (RLEF)</span>
                </h2>
                <p>Restack leverages <strong>RLEF</strong> to continuously improve models through iterative corrections
                  based on real-world executions. This allows models to self-correct and converge toward optimal
                  solutions.</p>
                <h3>
                  <div><a>​</a></div><span>Workflow for RLEF:</span>
                </h3>
                <ol>
                  <li>
                    <p><strong>Iterative execution:</strong>
                      The model generates solutions in steps, starting from an initial input.</p>
                  </li>
                  <li>
                    <p><strong>Feedback integration:</strong>
                      Feedback from failed test cases or runtime errors is appended to the model’s context for the next
                      iteration.</p>
                  </li>
                  <li>
                    <p><strong>Self-correction:</strong>
                      The model updates its response based on the feedback until a valid solution is found or a turn
                      limit is reached.</p>
                  </li>
                  <li>
                    <p><strong>Policy optimization:</strong>
                      The model optimizes via <strong>Proximal Policy Optimization (PPO)</strong>, improving iteratively
                      through each feedback loop.</p>
                  </li>
                </ol>
                <p>This ensures the model becomes more efficient and accurate over time. Restack manages these iterative
                  workflows, integrating directly with tools like Google Vertex AI to automate feedback collection.</p>
                <h2>
                  <div><a>​</a></div><span>Distillation</span>
                </h2>
                <p><strong>Distillation</strong> is the process of compressing knowledge from a large, complex model
                  (teacher) into a smaller, more efficient model (student). This allows developers to deploy
                  high-performance models in environments with limited resources.</p>
                <h3>
                  <div><a>​</a></div><span>How Distillation Works:</span>
                </h3>
                <ol>
                  <li>
                    <p><strong>Train a large model:</strong>
                      Use a large dataset to train a high-capacity teacher model.</p>
                  </li>
                  <li>
                    <p><strong>Transfer knowledge:</strong>
                      Train a smaller student model to mimic the teacher’s outputs using soft labels or intermediate
                      predictions.</p>
                  </li>
                  <li>
                    <p><strong>Deploy efficiently:</strong>
                      The smaller model is deployed to production for faster inference with minimal resource
                      consumption.</p>
                  </li>
                </ol>
                <h2>
                  <div><a>​</a></div><span>Example workflow: Self-improving models + Distillation</span>
                </h2>
                <ol>
                  <li>
                    <p><strong>Train a self-improving model:</strong>
                      Use Restack’s framework to train an autonomous model with RLEF and run it on
                      <strong>Kubernetes</strong>.
                    </p>
                  </li>
                  <li>
                    <p><strong>Collect feedback:</strong>
                      Integrate Google Vertex AI to execute code and collect runtime feedback (e.g., errors or test
                      failures).</p>
                  </li>
                  <li>
                    <p><strong>Refine model:</strong>
                      The model incorporates feedback and iterates until all tests pass.</p>
                  </li>
                  <li>
                    <p><strong>Distill for production:</strong>
                      When performance is optimal, distill the large model into a <strong>smaller version</strong> for
                      fast deployment.</p>
                  </li>
                  <li>
                    <p><strong>Continuous learning:</strong>
                      Keep updating the large model with new data and periodically distill it into production-ready
                      models.</p>
                  </li>
                </ol>
              </div>
              <div><a><span>Memory</span></a><a><span>Web UI</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>What are self-improving models?</a></li>
                <li><a>How to use in combination</a></li>
                <li><a>How to build Restack workflows for RLEF</a></li>
                <li><a>Reinforcement Learning with Execution Feedback (RLEF)</a></li>
                <li><a>Workflow for RLEF:</a></li>
                <li><a>Distillation</a></li>
                <li><a>How Distillation Works:</a></li>
                <li><a>Example workflow: Self-improving models + Distillation</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Multi step workflows - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Multi step workflows</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Multi step workflows</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>To build autonomous AI applications, you need a system capable of coordinating multiple steps:
                  calling models, making API requests, and executing logic, all while maintaining state over weeks or
                  even months reliably.
                  To address that, the Restack framework offers <code>step</code> to organize your basic functions into
                  workflows. You write your calls and business logic as basic asynchronous functions and then use
                  <code>step</code> to define how these functions flow together.
                </p>
                <p>Let’s go through the process of creating and scheduling a multi-step workflow:</p>
                <ol>
                  <li>Write your business logic in async functions.</li>
                  <li>Use <code>step</code> to define a workflow of functions.</li>
                  <li>Start a client.</li>
                  <li>Start a service including your workflow and functions.</li>
                  <li>Schedule the workflow to be executed.</li>
                </ol>
                <p>When creating a Restack project, we recommend following the structure below.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>📂 get-started</span>
                        <span> |-- 📂 src</span>
                        <span> | |-- 📂 functions</span>
                        <span> | | |-- 📄 functions.ts</span>
                        <span> | |-- 📂 workflows</span>
                        <span> | | |-- 📄 workflow.ts</span>
                        <span> | |-- 📄 client.ts</span>
                        <span> | |-- 📄 service.ts</span>
                        <span> |-- 📄 scheduleWorkflow.ts</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 1: Create your functions</span>
                </h2>
                <p>In the functions folder, four asynchronous functions are defined and exported. These functions handle
                  tasks such as analyzing email content, generating responses using OpenAI, forwarding emails to a human
                  agent, and sending email replies.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>export</span> <span>function</span>
                          <span>analyzeEmail</span><span>(</span>emailContent<span>:</span>
                          <span>string</span><span>)</span> <span>{</span></span>
                        <span>// Function logic</span>
                        <span> <span>return</span> <span>"Analyzed email content"</span><span>;</span></span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>openAiPrompt</span><span>(</span>prompt<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span>// Function logic</span>
                        <span> <span>return</span> <span>"OpenAI response"</span><span>;</span></span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>forwardEmailToHuman</span><span>(</span></span>
                        <span> emailAddress<span>:</span> <span>string</span><span>,</span></span>
                        <span> emailContent<span>:</span> <span>string</span></span>
                        <span><span>)</span> <span>{</span></span>
                        <span>// Function logic</span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>sendEmail</span><span>(</span>response<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span>// Function logic</span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 2: Write a multi-step workflow</span>
                </h2>
                <p>The workflow is defined in workflow.ts using the step primitive to orchestrate the functions. Each
                  step represents a function call, and the flow is controlled based on the outputs of these functions.
                </p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> step <span>}</span> <span>from</span>
                          <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span>// Define a workflow for handling customer support emails</span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>customerSupportEmailWorkflow</span><span>(</span>emailContent<span>:</span>
                          <span>string</span><span>)</span> <span>{</span></span>
                        <span>// Step 1: Read and analyze the customer support email content</span>
                        <span> <span>const</span> emailAnalysis <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>analyzeEmail</span><span>(</span>emailContent<span>)</span><span>;</span></span>
                        <span>// Step 2: Use OpenAI to generate a response and decide whether to handle automatically or
                          escalate</span>
                        <span> <span>const</span> openAiResponse <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>openAiPrompt</span><span>(</span>`</span>
                        <span> Analyze <span>this</span> customer support request and provide a response<span>.</span>
                        </span>
                        <span> If the request <span>is</span> technical and complex<span>,</span> reply
                          <span>with</span> <span>'forward to human'</span><span>.</span> </span>
                        <span> Otherwise<span>,</span> draft an appropriate response<span>:</span> </span>
                        <span> $<span>{</span>emailAnalysis<span>}</span></span>
                        <span> `<span>)</span><span>;</span></span>
                        <span>// Step 3: Triage based on OpenAI's response</span>
                        <span> <span>if</span> <span>(</span>openAiResponse <span>===</span> <span>"forward to
                            human"</span><span>)</span> <span>{</span></span>
                        <span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>forwardEmailToHuman</span><span>(</span></span>
                        <span> <span>"technical_support@company.com"</span><span>,</span></span>
                        <span> emailContent</span>
                        <span> <span>)</span><span>;</span></span>
                        <span> <span>}</span> <span>else</span> <span>{</span></span>
                        <span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>sendEmail</span><span>(</span>openAiResponse<span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 3: Create a client</span>
                </h2>
                <p>The Restack client is set up in client.ts</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 4: Start a new service</span>
                </h2>
                <p>The client then registers a service, making your workflows and functions available for execution.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span></span>
                        <span>,</span>
                        <span>,</span>
                        <span>,</span>
                        <span>,</span>
                        <span><span>}</span> <span>from</span> <span>"./supportFunctions"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./client"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span> <span>services</span><span>(</span><span>)</span>
                          <span>{</span></span>
                        <span>// First, we need to resolve the path of our workflow.ts file</span>
                        <span> <span>const</span> workflowsPath <span>=</span>
                          <span>require</span><span>.</span><span>resolve</span><span>(</span><span>"./workflows/workflow"</span><span>)</span><span>;</span></span>
                        <span>// Second, we pass the path and the functions to the service</span>
                        <span> client<span>.</span><span>startService</span><span>(</span><span>{</span></span>
                        <span>,</span>
                        <span> functions<span>:</span> <span>{</span> analyzeEmail<span>,</span>
                          openAiPrompt<span>,</span> forwardEmailToHuman<span>,</span> sendEmail
                          <span>}</span><span>,</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>// We call the services function to start the service, waiting for workflows</span>
                        <span>// to be scheduled in the next step</span>
                        <span><span>services</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 5: Schedule the workflow to be executed</span>
                </h2>
                <p>Finally, the client schedules the workflow to be executed.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./src/client"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span>
                          <span>scheduleWorkflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span>// Generate a unique workflowId based on the current timestamp</span>
                        <span> <span>const</span> workflowId <span>=</span>
                          <span><span>`</span><span><span>${</span>Date<span>.</span><span>now</span><span>(</span><span>)</span><span>}</span></span><span>-customerSupportEmailWorkflow</span><span>`</span></span><span>;</span></span>
                        <span>// Schedule the workflow by specifying its name and the generated workflowId</span>
                        <span> <span>const</span> runId <span>=</span> <span>await</span>
                          client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                        <span> workflowName<span>:</span>
                          <span>"customerSupportEmailWorkflow"</span><span>,</span></span>
                        <span>,</span>
                        <span>// Fetch the result of the workflow after it runs</span>
                        <span> <span>const</span> result <span>=</span> <span>await</span>
                          client<span>.</span><span>getWorkflowResult</span><span>(</span><span>{</span>
                          workflowId<span>,</span> runId <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span><span>scheduleWorkflow</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Need help?</span>
                </h2>
                <p>Join our community on Discord and ask us if you need a hand deploying your services:
                  <a>https://discord.com/invite/79JuDTNEQm</a>
                </p>
              </div>
              <div><a><span>Services</span></a><a><span>Realtime events</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Step 1: Create your functions</a></li>
                <li><a>Step 2: Write a multi-step workflow</a></li>
                <li><a>Step 3: Create a client</a></li>
                <li><a>Step 4: Start a new service</a></li>
                <li><a>Step 5: Schedule the workflow to be executed</a></li>
                <li><a>Need help?</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Introduction - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Getting started</span></div>
              <div>Introduction</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Getting started</div>
                  <div>
                    <h1>Introduction</h1>
                  </div>
                </div>
                <div>
                  <p>Restack is the open source framework for autonomous intelligence, helping developers build
                    resilient, autonomous AI applications.</p>
                </div>
              </header>
              <div>
                <div>
                  <p>Attending Llama Impact Hackathon on November 8th? <a>Start
                      here</a>.</p>
                </div>
                <p>We designed the framework to address the challenges we encountered while building AI applications:
                  creating truly autonomous workflows where models can execute logic and API calls reliably, maintain
                  state over weeks or months, and self-improve over time based on feedback loops and long-term memory.
                </p>
                <p><em>Example of an autonomous AI multi-step workflow, where the AI helps the user with
                    researching tools asynchronously until it finds one that matches the criteria.</em></p>
                <h2>
                  <div><a>​</a></div><span>Libraries</span>
                </h2>
                <p>Get started with our libraries.</p>
                <div><a>
                    <div>
                      <h2>Python</h2>
                      <div>
                        <p>Get started with Python</p>
                      </div>
                    </div>
                  </a><a>
                    <div>
                      <h2>Typescript</h2>
                      <div>
                        <p>Get started with Typescript</p>
                      </div>
                    </div>
                  </a></div>
                <h2>
                  <div><a>​</a></div><span>Why the Restack framework?</span>
                </h2>
                <ul>
                  <li><a><strong>Durable workflows</strong></a>: Built on Temporal and Kubernetes, Restack enables
                    workflows to run for extended durations, spanning weeks or months. It supports long-lived processes
                    with persistent state, immediate execution, and flexible resource limits.</li>
                  <li><a><strong>Feedback loop</strong></a>: Enables agents to listen for external events providing
                    feedback on their actions, allowing them to adjust and optimize behavior in real time for continuous
                    self-improvement.</li>
                  <li><a><strong>Step-by-step replay</strong></a>: Replay from any specific step, injecting custom
                    inputs without restarting the entire workflow. This allows you to debug efficiently without waiting
                    for the whole execution to run from the beginning.</li>
                  <li><a><strong>Event handling</strong></a>: Includes built-in primitives for event management,
                    allowing you to define, listen for, and emit events reliably without managing the underlying
                    infrastructure. &gt; Listen to real time events</li>
                  <li><a><strong>Scheduling or crons</strong></a>: Provides scheduling as a first-class primitive.
                    Ensures robust execution with automatic retries, fault tolerance, and time-based triggers.</li>
                  <li><a><strong>Concurrency and rate limits</strong></a>: Allows setting application-level rate limits,
                    automatically enforcing them even during parallel execution.</li>
                  <li><a><strong>Long-term memory</strong></a>: Complete state of workflow and function executions is
                    captured, so you can have long-term memory management natively, enabling your autonomous AI to learn
                    from historical data while maintaining low storage costs.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>What you can build</span>
                </h2>
                <ul>
                  <li><strong>Agentic workflows</strong>: Enables the definition of dynamic functions that agents can
                    execute based on real-time decisions, simplifying the management of decision-making processes and
                    coordinating function execution based on current data and context.</li>
                  <li><strong>Human-in-the-loop</strong>: Allows workflows to pause and wait for human input without
                    consuming resources, remaining active until a specified event is triggered. This facilitates
                    efficient integration of human feedback into workflows.</li>
                  <li><strong>Multi-agent coordination</strong>: Facilitates asynchronous communication and coordination
                    between agents through event-driven messaging within workflows, supporting non-blocking operations
                    while waiting for responses.</li>
                  <li><a><strong>Feedback loop</strong></a>: Enables agents to listen for external events providing
                    feedback on their actions, allowing them to adjust and optimize behavior in real time for continuous
                    self-improvement.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Getting help</span>
                </h2>
                <p>We’d love to hear from you or give you a hand getting started.</p>
                <a>
                  <div>
                    <h2>Join our community on Discord</h2>
                    <div>
                      <p>Join our Discord to get help from the community and connect with our
                        engineers.</p>
                    </div>
                  </div>
                </a>
              </div>
              <div><a><span>Architecture</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Libraries</a></li>
                <li><a>Why the Restack framework?</a></li>
                <li><a>What you can build</a></li>
                <li><a>Getting help</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Quickstart - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Python</span></div>
              <div>Quickstart</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Python</div>
                  <div>
                    <h1>Quickstart</h1>
                  </div>
                </div>
                <div>
                  <p>Run the get-starter example to learn how to build a basic two-step workflow.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Prerequisites</span>
                </h2>
                <p>Before you begin, make sure you have:</p>
                <ul>
                  <li>Python 3.8 or higher</li>
                  <li>Poetry (for dependency management)</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Start local engine</span>
                </h2>
                <p>The engine is responsible for reliably orchestrating your workflows. For local development, your code
                  will run in a Docker container. For production, we provide Kubernetes deployment options, either on
                  Restack Cloud or on your own Kubernetes cluster.</p>
                <p>Using `docker run`:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>docker</span> run <span>-d</span> <span>--pull</span> always
                          <span>--name</span> studio <span>-p</span> <span>5233</span>:5233 <span>-p</span>
                          <span>6233</span>:6233 <span>-p</span> <span>7233</span>:7233
                          ghcr.io/restackio/restack:main</span>
                      </code></pre>
                  </div>
                </div>
                <p>This will force repulling and rebuilding.</p>
                <h2>
                  <div><a>​</a></div><span>Open the Web UI</span>
                </h2>
                <p>Once the local engine is running, visit the Web UI at <a>http://localhost:5233</a></p>
                <h2>
                  <div><a>​</a></div><span>Clone the examples repository</span>
                </h2>
                <p>Clone the examples repository and navigate to the get-started example:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>git</span>
                        <span>cd</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Install dependencies</span>
                </h2>
                <p>Install dependencies using Poetry:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>install</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Project structure</span>
                </h2>
                <p>Take a moment and look at the project structure:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>📂 get-started</span>
                        <span> |-- 📂 src</span>
                        <span> | |-- 📂 functions</span>
                        <span> | | |-- 📄 functions.py</span>
                        <span> | |-- 📂 workflows</span>
                        <span> | | |-- 📄 workflow.py</span>
                        <span> | |-- 📄 client.py</span>
                        <span> | |-- 📄 service.py</span>
                        <span> |-- 📄 schedule_workflow.py</span>
                      </code></pre>
                  </div>
                </div>
                <p>The example’s structure breaks down the core components of the framework.</p>
                <ul>
                  <li>Functions folder: Contains your Python functions with business logic.</li>
                  <li>Workflows folder: Contains the workflows that specify the execution order of the functions. Learn
                    more about <a>workflows</a></li>
                  <li>client.py: Initializes the Restack Client, which starts services and schedules workflows. Learn
                    more about the <a>client</a></li>
                  <li>services.py: Contains your services, long-running background processes ready to execute workflows
                    and functions whenever they get scheduled. <a>services</a></li>
                  <li>schedule_workflow.py: Schedules a workflow to be executed by the service.</li>
                </ul>
                <p>Open a shell to interact with the project:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry shell</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Start services</span>
                </h2>
                <p>Start your services that will execute the workflow in the background.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry run services</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Schedule the workflow in a separate shell</span>
                </h2>
                <p>In a <strong>separate terminal</strong>, schedule the workflow to start immediately.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry shell</span>
                      </code></pre>
                  </div>
                </div>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry run schedule</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Congratulations, you have run your first workflow</span>
                </h2>
                <p>Visit the Web UI to see your workflow already executed by the service: <a>http://localhost:5233</a>
                </p>
                <h2>
                  <div><a>​</a></div><span>Next Steps</span>
                </h2>
                <a>
                  <div>
                    <h2>Get started: fork the example repo</h2>
                    <div>
                      <p>Fork the example repository to start building your own autonomous AI product</p>
                    </div>
                  </div>
                </a>
                <a>
                  <div>
                    <h2>Advanced: clone our Autonomous browser repo</h2>
                    <div>
                      <p>Monitor HN for interesting projects and create todos to reach out to their
                        creators.</p>
                    </div>
                  </div>
                </a>
                <a>
                  <div>
                    <h2>Join our community on Discord</h2>
                    <div>
                      <p>Join our Discord to get help from the community and connect with our
                        engineers.</p>
                    </div>
                  </div>
                </a>
                <p>We’d love to hear from you and help you get started.</p>
              </div>
              <div><a><span>Services</span></a><a><span>Client</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Prerequisites</a></li>
                <li><a>Start local engine</a></li>
                <li><a>Open the Web UI</a></li>
                <li><a>Clone the examples repository</a></li>
                <li><a>Install dependencies</a></li>
                <li><a>Project structure</a></li>
                <li><a>Start services</a></li>
                <li><a>Schedule the workflow in a separate shell</a></li>
                <li><a>Congratulations, you have run your first workflow</a></li>
                <li><a>Next Steps</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Client - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Client</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Client</h1>
                  </div>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>The client is an instance of the Restack class imported from <code>restack_ai</code>. It serves as
                  the primary interface for interacting with the Restack engine, allowing you to schedule workflows,
                  send events, and manage services.</p>
                <p>You can initialize the Restack client with or without connection options:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span># Without connection options (for local development)</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span># With connection options (for production or custom setups)</span>
                        <span>connection_options <span>=</span> <span>{</span></span>
                        <span> <span>"engine_id"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_ID"</span><span>)</span><span>,</span></span>
                        <span> <span>"address"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_ADDRESS"</span><span>)</span><span>,</span></span>
                        <span> <span>"api_key"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_API_KEY"</span><span>)</span><span>,</span></span>
                        <span>}</span>
                        <span>client <span>=</span> Restack<span>(</span>connection_options<span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>schedule_workflow</span>
                </h2>
                <p>Use <code>client.schedule_workflow()</code> to start a new workflow execution.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>run_id <span>=</span> <span>await</span>
                          client<span>.</span>schedule_workflow<span>(</span><span>{</span></span>
                        <span> <span>"workflow_name"</span><span>:</span>
                          <span>"exampleWorkflow"</span><span>,</span></span>
                        <span> <span>"workflow_id"</span><span>:</span> <span>"unique-id"</span><span>,</span></span>
                        <span> <span>"input"</span><span>:</span> <span>{</span><span>"key"</span><span>:</span>
                          <span>"value"</span><span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>workflow_name</code> (string, required): The name of the workflow to be scheduled.</li>
                  <li><code>workflow_id</code> (string, required): A unique identifier for this workflow execution.</li>
                  <li><code>input</code> (dict, optional): Input parameters for the workflow.</li>
                  <li><code>schedule</code> (dict, optional): Defines when the workflow should be executed.
                    The schedule object can contain the following properties:
                    <ul>
                      <li><code>calendars</code> (list of dicts): Defines recurring execution times.
                        <ul>
                          <li><code>day_of_week</code> (string): Day of the week (0-6, where 0 is Sunday) or
                            <code>*</code> for every day.
                          </li>
                          <li><code>hour</code> (int): Hour of the day (0-23) when the workflow should run.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
                <p>For detailed documentation on the schedule object, refer to the <a>Schedules</a> documentation.</p>
                <h2>
                  <div><a>​</a></div><span>start_service</span>
                </h2>
                <p>Use <code>client.start_service()</code> to initialize and run services that execute your workflows
                  and functions.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>await</span>
                          client<span>.</span>start_service<span>(</span><span>{</span></span>
                        <span> <span>"workflows_path"</span><span>:</span>
                          <span>"./path/to/workflows"</span><span>,</span></span>
                        <span> <span>"functions"</span><span>:</span>
                          <span>{</span><span>"example_function"</span><span>:</span>
                          example_function<span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>options</code> (dict, required): An object containing the following properties:
                    <ul>
                      <li><code>workflows_path</code> (string, required): The path to the workflows directory.</li>
                      <li><code>functions</code> (dict, optional): An object containing function definitions to be used
                        in the service.</li>
                      <li><code>task_queue</code> (string, optional): The name of the task queue for this service. When
                        not provided, it will use the default taskQueue: restack</li>
                      <li><code>options</code> (dict, optional): Additional options for the service.
                        <ul>
                          <li><code>rate_limit</code> (int, optional): The rate limit for the service in requests per
                            minute.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>send_workflow_event</span>
                </h2>
                <p>Use <code>client.send_workflow_event()</code> to send events to running workflows.</p>
                <p>Consider that the events should be defined with <code>event.define_event</code> and listened with
                  <code>event.on_event</code>.
                </p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span>client<span>.</span>send_workflow_event<span>(</span><span>{</span></span>
                        <span> <span>"event"</span><span>:</span> <span>{</span></span>
                        <span> <span>"name"</span><span>:</span> <span>"eventName"</span><span>,</span></span>
                        <span> <span>"input"</span><span>:</span> <span>{</span><span>"key"</span><span>:</span>
                          <span>"value"</span><span>}</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> <span>"workflow"</span><span>:</span> <span>{</span></span>
                        <span> <span>"workflow_id"</span><span>:</span> <span>"workflow-id"</span><span>,</span></span>
                        <span> <span>"run_id"</span><span>:</span> <span>"run-id"</span></span>
                        <span>}</span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>options</code> (dict, required): An object containing the following properties:
                    <ul>
                      <li><code>event</code> (dict, required): Details of the event to be sent.
                        <ul>
                          <li><code>name</code> (string, required): The name of the event.</li>
                          <li><code>input</code> (any, optional): Any input data associated with the event.</li>
                        </ul>
                      </li>
                      <li><code>workflow</code> (dict, required): Information about the target workflow.
                        <ul>
                          <li><code>workflow_id</code> (string, required): The ID of the target workflow.</li>
                          <li><code>run_id</code> (string, required): The run ID of the target workflow execution.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div><a><span>Quickstart</span></a><a><span>Workflows</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>schedule_workflow</a></li>
                <li><a>start_service</a></li>
                <li><a>send_workflow_event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Events - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Events</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Events</h1>
                  </div>
                </div>
              </header>
              <div>
                <h3>
                  <div><a>​</a></div><span>Overview</span>
                </h3>
                <p>The Restack AI library provides events for asynchronous, event-driven programming. Three key
                  components work together to handle events:</p>
                <ul>
                  <li><code>define_event</code>: Declares the structure and type of events.</li>
                  <li><code>on_event</code>: Listens for and handles events within workflows.</li>
                  <li><code>client.send_workflow_event</code>: To send an event to a workflow, you need a client
                    instance. Refer to the Client documentation for instructions on sending events.</li>
                </ul>
                <h3>
                  <div><a>​</a></div><span>define_event</span>
                </h3>
                <p><code>define_event</code> is used to declare an event within a workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>event <span>import</span>
                          define_event</span>
                        <span>stream_name <span>=</span>
                          define_event<span>(</span><span>"stream_info"</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>event_name</code> (str): The name of the event.</li>
                </ul>
                <h3>
                  <div><a>​</a></div><span>on_event</span>
                </h3>
                <p><code>on_event</code> is used to register an event handler for a specific event within a workflow.
                  When the specified event is emitted, the associated handler function is executed.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>event <span>import</span> on_event</span>
                        <span>on_event<span>(</span>my_event<span>,</span> <span>async</span>
                          <span>def</span><span>(</span>event_data<span>)</span><span>:</span></span>
                        <span># Event handling logic</span>
                        <span>)</span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>event</code> (Event object): The event to listen for, typically created using
                    <code>define_event</code>.
                  </li>
                  <li><code>handler</code> (function): The function to be executed when the event occurs.</li>
                </ul>
              </div>
              <div><a><span>Workflows</span></a><a><span>Services</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>define_event</a></li>
                <li><a>on_event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Services - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Services</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Services</h1>
                  </div>
                </div>
              </header>
              <div>
                <h1>
                  <div><a>​</a></div><span>Services</span>
                </h1>
                <p>Services are long-running background processes that subscribe to a task queue to execute functions
                  and workflows. When a service is started, it listens for tasks in the queue and runs them as they are
                  scheduled. If no specific task queue is defined, the service automatically subscribes to the default
                  ‘restack’ queue.</p>
                <h2>
                  <div><a>​</a></div><span>Creating a Service</span>
                </h2>
                <p>To create a service, you need to use the <code>start_service</code> method of the Restack client.
                  Here’s an example of how to create a service:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span><span>from</span> functions<span>.</span>my_custom_function <span>import</span>
                          my_custom_function</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_1 <span>import</span>
                          workflow_1</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span> <span>[</span>workflow_1<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>my_custom_function<span>]</span><span>,</span></span>
                        <span>)</span>
                        <span><span>def</span>
                          <span>run_services</span><span>(</span><span>)</span><span>:</span></span>
                        <span>
                          asyncio<span>.</span>run<span>(</span>custom_service<span>(</span><span>)</span><span>)</span></span>
                        <span><span>if</span> __name__ <span>==</span>
                          <span>"__custom_service__"</span><span>:</span></span>
                        <span> run_services<span>(</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, <code>my_custom_function</code> is a custom function defined by the user and
                  imported from the <code>functions</code> module. The service is set up to use this function and a
                  custom task queue.</p>
                <h2>
                  <div><a>​</a></div><span>Service Configuration</span>
                </h2>
                <p>The <code>start_service</code> method accepts an object with the following properties:</p>
                <ul>
                  <li><code>workflows</code> (optional): A dictionary containing the workflows to be registered with the
                    service.</li>
                  <li><code>functions</code> (optional): A dictionary containing the functions to be registered with the
                    service.</li>
                  <li><code>task_queue</code> (optional): A string representing the name of the task queue. Default is
                    “restack”.</li>
                  <li><code>options</code> (optional): A dictionary with additional options for the service:
                    <ul>
                      <li><code>rate_limit</code> (optional): The rate limit for functions.</li>
                      <li><code>max_concurrent_workflow_runs</code> (optional): The maximum number of concurrent
                        workflow runs.</li>
                      <li><code>max_concurrent_function_runs</code> (optional): The maximum number of concurrent
                        function runs.</li>
                    </ul>
                  </li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Running Multiple Services</span>
                </h2>
                <p>You can run multiple services in the same application by calling <code>start_service</code> multiple
                  times with different configurations:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span><span>from</span> functions<span>.</span>my_custom_function <span>import</span>
                          my_custom_function</span>
                        <span><span>from</span> functions<span>.</span>another_custom_function <span>import</span>
                          another_custom_function</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_1 <span>import</span>
                          workflow_1</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_2 <span>import</span>
                          workflow_2</span>
                        <span>import</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service_1</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span><span>[</span>workflow_1<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>my_custom_function<span>]</span><span>,</span></span>
                        <span> task_queue<span>=</span><span>"queue_1"</span></span>
                        <span>)</span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service_2</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span><span>[</span>workflow_2<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>another_custom_function<span>]</span><span>,</span></span>
                        <span> task_queue<span>=</span><span>"queue_2"</span></span>
                        <span>)</span>
                        <span><span>async</span> <span>def</span>
                          <span>run_services</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span>
                          asyncio<span>.</span>gather<span>(</span>custom_service_1<span>(</span><span>)</span><span>,</span>
                          custom_service_2<span>(</span><span>)</span><span>)</span></span>
                        <span><span>if</span> __name__ <span>==</span> <span>"__main__"</span><span>:</span></span>
                        <span>
                          asyncio<span>.</span>run<span>(</span>run_services<span>(</span><span>)</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, <code>custom_function1</code> and <code>custom_function2</code> are user-defined
                  functions imported from separate modules.</p>
              </div>
              <div><a><span>Events</span></a><a><span>Multi step workflows</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Services</a></li>
                <li><a>Creating a Service</a></li>
                <li><a>Service Configuration</a></li>
                <li><a>Running Multiple Services</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Workflows - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Workflows</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Workflows</h1>
                  </div>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>A workflow is an asynchronous function that defines the sequence of steps for your autonomous AI. It
                  outlines actions such as model calls, data processing, and conditional logic.</p>
                <div>
                  <div>
                    <div>workflow.py</div>
                    <div>Copy</div>
                  </div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>workflow <span>import</span>
                          workflow<span>,</span> import_functions</span>
                        <span><span>from</span> datetime <span>import</span> timedelta</span>
                        <span><span>from</span> pydantic <span>import</span> BaseModel</span>
                        <span><span>from</span> src<span>.</span>functions<span>.</span>hn<span>.</span>schema
                          <span>import</span> HnSearchInput</span>
                        <span><span>with</span> import_functions<span>(</span><span>)</span><span>:</span></span>
                        <span> <span>from</span> src<span>.</span>functions<span>.</span>openai<span>.</span>chat
                          <span>import</span> openai_todos<span>,</span> FunctionInputParams</span>
                        <span> <span>from</span> src<span>.</span>functions<span>.</span>hn<span>.</span>search
                          <span>import</span> tool_hn_search</span>
                        <span><span>class</span>
                          <span>WorkflowInputParams</span><span>(</span>BaseModel<span>)</span><span>:</span></span>
                        <span>pass</span>
                        <span><span>.</span><span>(</span>name<span>=</span><span>"automatedWorkflow"</span><span>)</span></span>
                        <span><span>class</span> <span>AutomatedWorkflow</span><span>:</span></span>
                        <span>.</span>
                        <span> <span>async</span> <span>def</span> <span>run</span><span>(</span>self<span>,</span>
                          <span>input</span><span>:</span> WorkflowInputParams<span>)</span><span>:</span></span>
                        <span> hn_results <span>=</span> <span>await</span>
                          workflow<span>.</span>step<span>(</span>tool_hn_search<span>,</span>
                          HnSearchInput<span>(</span>query<span>=</span><span>"ai"</span><span>)</span><span>,</span>
                          start_to_close_timeout<span>=</span>timedelta<span>(</span>seconds<span>=</span><span>10</span><span>)</span><span>)</span></span>
                        <span> user_content <span>=</span> <span><span>f"You are a personal assistant. Here is the
                              latest hacker news data:
                            </span><span><span>{</span><span>str</span><span>(</span>hn_results<span>)</span><span>}</span></span><span>
                              Create a todo for me to contact the founder with a one sentence summary of their
                              product"</span></span></span>
                        <span> result <span>=</span> <span>await</span>
                          workflow<span>.</span>step<span>(</span>openai_todos<span>,</span>
                          FunctionInputParams<span>(</span>user_content<span>=</span>user_content<span>)</span><span>,</span>
                          start_to_close_timeout<span>=</span>timedelta<span>(</span>seconds<span>=</span><span>10</span><span>)</span><span>)</span></span>
                        <span> <span>return</span> <span>{</span><span>"result"</span><span>:</span>
                          result<span>}</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>task_queue</code> (str, optional): Specifies the task queue for the step. Defaults to the
                    restack taskQueue if not set.</li>
                  <li><code>schedule_to_close_timeout</code> (str, optional): Sets the maximum duration allowed for the
                    task to complete from the time it is scheduled. The value is a string representing a duration.
                    Format: ” ”, where unit can be “second(s)”, “minute(s)”, “hour(s)”, “day(s)“</li>
                  <li><code>schedule_to_start_timeout</code> (str, optional): Defines the maximum time allowed before
                    task execution begins. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>start_to_close_timeout</code> (str, optional): Specifies the maximum time allowed for task
                    completion after starting. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>heartbeat_timeout</code> (str, optional): Determines the interval for sending heartbeat
                    signals. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>retry_policy</code> (dict, optional): Configures the retry strategy for the task.
                    <ul>
                      <li><code>maximum_attempts</code> (int): Maximum number of retry attempts.</li>
                      <li><code>initial_interval</code> (str): Initial delay before the first retry, using the same time
                        format as timeouts.</li>
                      <li><code>maximum_interval</code> (str): Maximum delay between retries, using the same time format
                        as timeouts.</li>
                      <li><code>backoff_coefficient</code> (float): Factor by which the retry interval increases with
                        each attempt.</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div><a><span>Client</span></a><a><span>Events</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Architecture - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Getting started</span></div>
              <div>Architecture</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Getting started</div>
                  <div>
                    <h1>Architecture</h1>
                  </div>
                </div>
                <div>
                  <p>Restack is built with Temporal for reliable orchestration and Kubernetes for scalable deployments
                  </p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>We’ve designed Restack to let you focus on coding while the framework handles the rest.</p>
                <h3>
                  <div><a>​</a></div><span>Clients</span>
                </h3>
                <p>You can use any client to schedule, query, and send events to the Restack Engine.</p>
                <h3>
                  <div><a>​</a></div><span>Engine</span>
                </h3>
                <p>The Engine, powered by Temporal, is responsible for orchestrating the workflows and functions.
                  It ensures that your workflows are executed reliably, even in the presence of failures.</p>
                <h3>
                  <div><a>​</a></div><span>Services</span>
                </h3>
                <p>Your workflows and functions can be coded in multiple languages.
                  Each service is executed separately and has its own GRPC connection to the Restack Engine.
                  Services can be running in a single container or scaled horizontally on multiple containers in
                  Kubernetes.</p>
                <h2>
                  <div><a>​</a></div><span>Dependencies</span>
                </h2>
                <h3>
                  <div><a>​</a></div><span>Temporal</span>
                </h3>
                <p>Open-source durable execution platform to guarantee successful execution, even in the presence of
                  failures.
                  Learn more about <a>Temporal</a>.</p>
                <h3>
                  <div><a>​</a></div><span>Kubernetes</span>
                </h3>
                <p>Open-source system for automating deployment, scaling, and management of containerized applications.
                  Learn more about <a>Kubernetes</a>.</p>
              </div>
              <div><a><span>Introduction</span></a><a><span>Quickstart</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>Clients</a></li>
                <li><a>Engine</a></li>
                <li><a>Services</a></li>
                <li><a>Dependencies</a></li>
                <li><a>Temporal</a></li>
                <li><a>Kubernetes</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Realtime events - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Realtime events</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Realtime events</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>An autonomous system must perceive the world as human do.
                  Restack Engine enables your workflows to listen to realtime events in json, audio or video with the
                  guarantee that the system ingest all events.
                  No need to build queuing architecture or complex architecture like SQS, Kafka, Kinesis or Redis.</p>
                <h2>
                  <div><a>​</a></div><span>Define an Event</span>
                </h2>
                <p>We have simplified how you can define and events inside your workflows. Scenarios can happen where
                  certain workflows will execute flows depending on the event they have received.</p>
                <p>First step is to define an event. We will define an event called <code>MessageEvent</code>. It will
                  later be d by a workflow that will receive this message and answer with a predefined response.</p>
                <p><code>MessageEvent</code> will have a type tied to it. This will signify the type that the event will
                  return to its caller, this way we have a typed response after calling the event.</p>
                <p>We will also define an event that will ending the workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> defineEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>export</span> <span>type</span> <span>MessageEventInput</span> <span>=</span>
                          <span>{</span></span>
                        <span> message<span>:</span> <span>string</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>export</span> <span>type</span> <span>MessageEvent</span> <span>=</span>
                          <span>{</span></span>
                        <span> response<span>:</span> <span>string</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> MessageEvent <span>=</span>
                          <span><span>defineEvent</span><span><span>&lt;</span>MessageEventInput<span>&gt;</span></span></span><span>(</span><span>"Message"</span><span>)</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> goodbyeEvent <span>=</span>
                          <span>defineEvent</span><span>(</span><span>"goodbyeEvent"</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>the Event in a Workflow</span>
                </h2>
                <p>Now that the event has been defined, we can safely set its logic inside a workflow. For this sample,
                  we will show how you can call a function as a step in the workflow that will store the message in an
                  external database.</p>
                <p>We will also make use of the <code>condition</code> function from the Restack AI framework. This is
                  very useful in case you want to keep the workflow running until said condition is met. After it is
                  met, its promise is resolved and the workflow execution continues from this point.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> log<span>,</span> step<span>,</span> condition
                          <span>}</span> <span>from</span> <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> onEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>import</span> <span>*</span> <span>as</span> functions <span>from</span>
                          <span>"./functions"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> MessageEvent<span>,</span> MessageEventInput
                          <span>}</span> <span>from</span> <span>"./MessageEvent"</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>workflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> goodbyeReceived <span>=</span> <span>false</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>MessageEvent<span>,</span> <span>async</span>
                          <span>(</span><span>{</span> message <span>}</span><span>:</span>
                          MessageEventInput<span>)</span> <span>=&gt;</span> <span>{</span></span>
                        <span> <span>const</span> result <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span></span>
                        <span> taskQueue<span>:</span> <span>"messageTaskQueue"</span><span>,</span></span>
                        <span>
                          <span>}</span><span>)</span><span>.</span><span>storeMessageInDb</span><span>(</span><span>{</span>
                          message <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> result<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>goodbyeEvent<span>,</span> <span>async</span>
                          <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span></span>
                        <span> goodbyeReceived <span>=</span> <span>true</span><span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>await</span> <span>condition</span><span>(</span><span>(</span><span>)</span>
                          <span>=&gt;</span> goodbyeReceived<span>)</span><span>;</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"goodbye condition
                            met"</span><span>)</span><span>;</span></span>
                        <span>// You can either return or add more steps here</span>
                        <span>// You can even add as many conditions as you please.</span>
                        <span> <span>return</span> <span>true</span><span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Trigger the Event</span>
                </h2>
                <p>Now that we have our event defined and d in our workflow, the final step is to trigger this event.
                  This can happen either from another workflow or from a non-workflow space, so you are not tied to send
                  events only between workflows. These events can be triggered from anywhere in your application, as
                  long as you can create an instance of the Restack client.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                        <span><span>const</span> runId <span>=</span> <span>await</span>
                          client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                        <span> workflowName<span>:</span> <span>"MessageWorkflow"</span><span>,</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span> taskQueue<span>:</span> <span>"messageTaskQueue"</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                        <span><span>const</span> message <span>=</span> <span>await</span>
                          client<span>.</span><span>sendWorkflowEvent</span><span>(</span><span>{</span></span>
                        <span> event<span>:</span> <span>{</span></span>
                        <span> name<span>:</span> MessageEvent<span>.</span>name<span>,</span></span>
                        <span> input<span>:</span> <span>{</span> message<span>:</span> data<span>.</span>message
                          <span>}</span><span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> workflow<span>:</span> <span>{</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span>,</span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                        <span><span>console</span><span>.</span><span>log</span><span>(</span><span>"stored in
                            db"</span><span>,</span> message<span>)</span><span>;</span></span>
                        <span>// Let's send goodbye event to end the workflow</span>
                        <span><span>await</span>
                          client<span>.</span><span>sendWorkflowEvent</span><span>(</span><span>{</span></span>
                        <span> event<span>:</span> <span>{</span></span>
                        <span> name<span>:</span> goodbyeEvent<span>.</span>name<span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> workflow<span>:</span> <span>{</span></span>
                        <span> workflowId<span>:</span> <span>"Release"</span><span>,</span></span>
                        <span>,</span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
              </div>
              <div><a><span>Multi step workflows</span></a><a><span>Feedback loops</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Define an Event</a></li>
                <li><a>the Event in a Workflow</a></li>
                <li><a>Trigger the Event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Feedback loops - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Feedback loops</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Feedback loops</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>Let users give feedback to their autonomous AI and put necessary guardrails or quality loops to
                  prevent agents from veering off course.</p>
                <h2>
                  <div><a>​</a></div><span>Create a feedback loop</span>
                </h2>
                <p>To add <code>human-in-the-loop</code> capabilities to your autonomous workflow, just define an event
                  and handle it in the workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> log<span>,</span> step<span>,</span> condition
                          <span>}</span> <span>from</span> <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> onEvent <span>}</span> <span>from</span>
                          <span>"@restackio/ai/event"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> feedbackEvent<span>,</span> FeedbackEvent<span>,</span>
                          endEvent<span>,</span> EndEvent <span>}</span> <span>from</span>
                          <span>"../events"</span><span>;</span></span>
                        <span><span>import</span> <span>*</span> <span>as</span> functions <span>from</span>
                          <span>"../functions"</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>humanLoopWorkflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> endWorkflow <span>=</span> <span>false</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>feedbackEvent<span>,</span> <span>async</span>
                          <span>(</span>event<span>:</span> FeedbackEvent<span>)</span> <span>=&gt;</span>
                          <span>{</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"Received
                            feedback"</span><span>,</span> <span>{</span> feedback<span>:</span>
                          event<span>.</span>feedback <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>const</span> feedback <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span><span>}</span><span>)</span><span>.</span><span>feedback</span><span>(</span><span>{</span></span>
                        <span> feedback<span>:</span> event<span>.</span>feedback<span>,</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> feedback<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>onEvent</span><span>(</span>endEvent<span>,</span> <span>async</span>
                          <span>(</span>event<span>:</span> EndEvent<span>)</span> <span>=&gt;</span>
                          <span>{</span></span>
                        <span> log<span>.</span><span>info</span><span>(</span><span>"Received end"</span><span>,</span>
                          <span>{</span> end<span>:</span> event<span>.</span>end
                          <span>}</span><span>)</span><span>;</span></span>
                        <span> endWorkflow <span>=</span> event<span>.</span>end<span>;</span></span>
                        <span> <span>return</span> event<span>.</span>end<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span> <span>await</span> <span>condition</span><span>(</span><span>(</span><span>)</span>
                          <span>=&gt;</span> endWorkflow<span>)</span><span>;</span></span>
                        <span> <span>const</span> goodbye <span>=</span> <span>await</span>
                          <span><span>step</span><span><span>&lt;</span><span>typeof</span>
                              functions<span>&gt;</span></span></span><span>(</span><span>{</span><span>}</span><span>)</span><span>.</span><span>goodbye</span><span>(</span><span>)</span><span>;</span></span>
                        <span> <span>return</span> goodbye<span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Examples</span>
                </h2>
                <div> <a>
                    <div>
                      <h2>Human in the loop</h2>
                      <div>
                        <p>A basic example in Python using Restack AI library to build human feedback
                          loops</p>
                      </div>
                    </div>
                  </a><a>
                    <div>
                      <h2>Human in the loop</h2>
                      <div>
                        <p>A basic example in Typescript using Restack AI library to build human feedback
                          loops</p>
                      </div>
                    </div>
                  </a></div>
                <p>Note that workflows can wait up to 90 days for human feedback and your services will not consume any
                  resource while waiting for the human input.</p>
                <p>On Restack Cloud, we can offer up to 1 year of retention, <a>contact us</a> for details.</p>
              </div>
              <div><a><span>Realtime events</span></a><a><span>Schedules</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Create a feedback loop</a></li>
                <li><a>Examples</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Memory - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Memory</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Memory</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>Complete state of your function and workflow is captured, so you no longer need to automate, track
                  and validate state to build autonomous AI systems that learn, remember, adapt and make decisions over
                  time.</p>
                <h1>
                  <div><a>​</a></div><span>Long-term memory</span>
                </h1>
                <p>To be able to use long-term memory, you need to define a memory in the workflow.
                  And set a handler to update the memory.</p>
                <p>For example, we want to keep track of user feedback:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>type</span> <span>Feedbacks</span> <span>=</span> <span>{</span></span>
                        <span> feedbacks<span>:</span>
                          <span>string</span><span>[</span><span>]</span><span>;</span></span>
                        <span><span>}</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> defineMemory <span>}</span> <span>from</span>
                          <span>"@restackio/ai/memory"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> feedbacks <span>=</span>
                          <span><span>defineMemory</span><span><span>&lt;</span>Feedbacks<span>&gt;</span></span></span><span>(</span><span>"feedbacks"</span><span>)</span><span>;</span></span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>workflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span> <span>let</span> feedbacks<span>:</span> Feedbacks <span>=</span>
                          <span>""</span><span>;</span></span>
                        <span> <span>handleMemory</span><span>(</span>feedbacks<span>,</span>
                          <span>(</span>feedbacks<span>:</span> Feedbacks<span>)</span><span>:</span> Feedbacks
                          <span>=&gt;</span> <span>{</span></span>
                        <span> <span>return</span> feedbacks<span>;</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span>// on event or after a step, update the memory</span>
                        <span> feedbacks <span>=</span> <span>{</span> feedbacks<span>:</span>
                          <span>[</span><span>"newFeedback"</span><span>]</span> <span>}</span><span>;</span></span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <p>Then from any client, you can query the memory:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span>// Without connection options (for local development)</span>
                        <span><span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                        <span><span>const</span> feedbacks <span>=</span>
                          client<span>.</span><span>getWorkflowMemory</span><span>(</span>workflowId<span>,</span>
                          runId<span>,</span> <span>"feedbacks"</span><span>)</span><span>;</span></span>
                        <span><span>console</span><span>.</span><span>log</span><span>(</span><span>"Workflow
                            memory:"</span><span>,</span> feedbacks<span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h1>
                  <div><a>​</a></div><span>Lifetime memory</span>
                </h1>
                <p>Lifetime memory goes beyond Restack Engine data retention by leveraging S3 compatible buckets and
                  vector embedding.
                  This feature is in alpha, join our <a>community</a> to stay tuned for the release.</p>
              </div>
              <div><a><span>Rate limits</span></a><a><span>Self-improving models</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Long-term memory</a></li>
                <li><a>Lifetime memory</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Enforce rate limits - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Enforce rate limits</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Enforce rate limits</h1>
                  </div>
                </div>
                <div>
                  <p>When dealing with external APIs, you often need to limit the number of requests to avoid
                    overwhelming the API provider or your own system.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>How it works</span>
                </h2>
                <p>Restack framework supports rate limiting out of the box.</p>
                <p>Let’s take an example of calling OpenAI: where you want to limit the number of requests to 10
                  requests per second and 1 concurrent request.</p>
                <p>In your workflows, you can define a task queue name for any step:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> step <span>}</span> <span>from</span>
                          <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span><span>const</span> response <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>{</span>taskQueue<span>:</span>
                          <span>"openai"</span><span>}</span><span>)</span><span>.</span><span>openAiPrompt</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>And you can add a rate limit when starting services.
                  By adding the same taskQueue name, Restack Engine will enforce the rate limit on that task queue:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./client"</span><span>;</span></span>
                        <span>client<span>.</span><span>startService</span><span>(</span><span>{</span></span>
                        <span> taskQueue<span>:</span> <span>"openai"</span></span>
                        <span>,</span>
                        <span> functions<span>:</span> <span>{</span> openAiPrompt <span>}</span><span>,</span></span>
                        <span> options<span>:</span> <span>{</span></span>
                        <span> rateLimit<span>:</span> <span>10</span><span>,</span></span>
                        <span> maxConcurrentFunctionRuns<span>:</span> <span>1</span><span>,</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, Restack engine will enforce that maximum 10 executions per second and 1 concurrent
                  execution per task queue.</p>
                <p>Effectively dealing with rate limits on external APIs, without having to manage queueing yourself.
                </p>
              </div>
              <div><a><span>Schedules</span></a><a><span>Memory</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>How it works</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Schedules - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Schedules</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <header>
              <div>
                <div>Features</div>
                <div>
                  <h1>Schedules</h1>
                </div>
              </div>
              <div>
                <p>Scheduling worklows</p>
              </div>
            </header>
            <div>
              <p>With Restack Engine, you can schedule workflows to run on specific times.</p>
              <p>When not running, workflows will not consume any resources.</p>
              <div>
                <div>Copy</div>
                <div>
                  <pre><code><span><span>const</span> runId <span>=</span> <span>await</span>
                        client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                      <span> workflowName<span>:</span> <span>"exampleWorkflow"</span><span>,</span></span>
                      <span> workflowId<span>:</span> <span>"unique-id"</span><span>,</span></span>
                      <span> input<span>:</span> <span>{</span> key<span>:</span> <span>"value"</span>
                        <span>}</span><span>,</span></span>
                      <span> schedule<span>:</span> <span>{</span></span>
                      <span> calendars<span>:</span> <span>[</span><span>{</span> dayOfWeek<span>:</span>
                        <span>"0"</span><span>,</span> hour<span>:</span> <span>10</span>
                        <span>}</span><span>]</span><span>,</span></span>
                      <span> <span>}</span><span>,</span></span>
                      <span><span>}</span><span>)</span><span>;</span></span>
                    </code></pre>
                </div>
              </div>
            </div>
            <div><a><span>Feedback loops</span></a><a><span>Rate limits</span></a></div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Self-improving models and distillation - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Self-improving models and distillation</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Self-improving models and distillation</h1>
                  </div>
                </div>
                <div>
                  <p>Using Restack’s framework with <strong>reinforcement learning</strong> (RL) and execution feedback,
                    developers can build adaptable, high-performance models.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>What are self-improving models?</span>
                </h2>
                <p><strong>Self-improving models</strong> dynamically learn from their environment, adjusting their
                  parameters as they encounter new data or feedback. Unlike static models, these models continue to
                  evolve, reducing the need for human intervention:</p>
                <ul>
                  <li><strong>Dynamic Adaptation:</strong> Adjust parameters based on execution feedback.</li>
                  <li><strong>Iterative Improvement:</strong> Optimize performance across multiple tasks through
                    repeated attempts.</li>
                  <li><strong>Autonomy:</strong> Adapt to changing environments without manual re-training.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>How to use in combination</span>
                </h2>
                <p>Using Restack’s framework with <strong>Reinforcement Learning with Execution Feedback
                    (RLEF)</strong>,
                  developers can build <strong>adaptive models</strong> that continuously improve through feedback.</p>
                <p><strong>Distillation</strong> complements this by creating smaller, efficient versions of these
                  models,
                  enabling seamless deployment without sacrificing performance.
                  This combination of <strong>self-improving models</strong> and <strong>distillation</strong> within
                  Restack offers a powerful way to build,
                  optimize, and deploy scalable, autonomous AI systems.</p>
                <p>With RL-based execution feedback and distillation,
                  developers can maintain high flexibility while ensuring production models remain lightweight and fast.
                </p>
                <p>Restack enables developers to combine both concepts effectively:</p>
                <ul>
                  <li><strong>Initial Learning with RLEF</strong>: Use a large self-improving model to iterate on tasks
                    and incorporate execution feedback.</li>
                  <li><strong>Distill for Production</strong>: Once the model reaches optimal performance, distill it
                    into a smaller version for deployment.</li>
                  <li><strong>Ongoing Improvements</strong>: Use the distillation process periodically to keep
                    production models lightweight while benefiting from continuous learning in the background.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>How to build Restack workflows for RLEF</span>
                </h2>
                <p>You can use Restack <a>multi-step workflows</a> to build RLEF workflows.</p>
                <p>For example, you can use the <strong>Google Gemini</strong> model and <strong>Vertex AI code
                    interpreter extension</strong> to gather data used in your machine learning pipeline:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> scheduleWorkflow<span>,</span> queryModel
                          <span>}</span> <span>from</span> <span>"restack-ai"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> extensionCodeInterpreter <span>}</span>
                          <span>from</span> <span>"@google-cloud/vertexai"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span>
                          <span>feedbackLoop</span><span>(</span>task<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span> <span>let</span> solution <span>=</span> <span>await</span>
                          <span>queryModel</span><span>(</span><span>"Generate code for task: "</span> <span>+</span>
                          task<span>)</span><span>;</span></span>
                        <span> <span>for</span> <span>(</span><span>let</span> attempt <span>=</span>
                          <span>0</span><span>;</span> attempt <span>&lt;</span> <span>200</span><span>;</span>
                          attempt<span>++</span><span>)</span> <span>{</span></span>
                        <span> <span>const</span> feedback <span>=</span> <span>await</span>
                          <span>extensionCodeInterpreter</span><span>(</span>solution<span>)</span><span>;</span></span>
                        <span> <span>if</span> <span>(</span>feedback<span>.</span>success<span>)</span>
                          <span>return</span> solution<span>;</span></span>
                        <span> solution <span>=</span> <span>await</span>
                          <span>queryModel</span><span>(</span><span>"Refine solution"</span><span>,</span>
                          <span>{</span> feedback <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span> <span>throw</span> <span>new</span> <span>Error</span><span>(</span><span>"Failed to
                            generate valid solution within 3 attempts."</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>// Start the feedback loop as a workflow on Restack</span>
                        <span><span>scheduleWorkflow</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span>
                          <span>feedbackLoop</span><span>(</span><span>"Sorting
                            Algorithm"</span><span>)</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <p><strong>Explanation:</strong>
                  A code generation model powered by Restack and <strong>Vertex AI</strong> receives
                  <strong>feedback</strong> from <strong>test executions</strong>. If a solution fails, the feedback is
                  used to <strong>refine the code</strong>. This process repeats until all tests pass, ensuring the
                  model produces <strong>correct outputs autonomously</strong>.
                </p>
                <h2>
                  <div><a>​</a></div><span>Reinforcement Learning with Execution Feedback (RLEF)</span>
                </h2>
                <p>Restack leverages <strong>RLEF</strong> to continuously improve models through iterative corrections
                  based on real-world executions. This allows models to self-correct and converge toward optimal
                  solutions.</p>
                <h3>
                  <div><a>​</a></div><span>Workflow for RLEF:</span>
                </h3>
                <ol>
                  <li>
                    <p><strong>Iterative execution:</strong>
                      The model generates solutions in steps, starting from an initial input.</p>
                  </li>
                  <li>
                    <p><strong>Feedback integration:</strong>
                      Feedback from failed test cases or runtime errors is appended to the model’s context for the next
                      iteration.</p>
                  </li>
                  <li>
                    <p><strong>Self-correction:</strong>
                      The model updates its response based on the feedback until a valid solution is found or a turn
                      limit is reached.</p>
                  </li>
                  <li>
                    <p><strong>Policy optimization:</strong>
                      The model optimizes via <strong>Proximal Policy Optimization (PPO)</strong>, improving iteratively
                      through each feedback loop.</p>
                  </li>
                </ol>
                <p>This ensures the model becomes more efficient and accurate over time. Restack manages these iterative
                  workflows, integrating directly with tools like Google Vertex AI to automate feedback collection.</p>
                <h2>
                  <div><a>​</a></div><span>Distillation</span>
                </h2>
                <p><strong>Distillation</strong> is the process of compressing knowledge from a large, complex model
                  (teacher) into a smaller, more efficient model (student). This allows developers to deploy
                  high-performance models in environments with limited resources.</p>
                <h3>
                  <div><a>​</a></div><span>How Distillation Works:</span>
                </h3>
                <ol>
                  <li>
                    <p><strong>Train a large model:</strong>
                      Use a large dataset to train a high-capacity teacher model.</p>
                  </li>
                  <li>
                    <p><strong>Transfer knowledge:</strong>
                      Train a smaller student model to mimic the teacher’s outputs using soft labels or intermediate
                      predictions.</p>
                  </li>
                  <li>
                    <p><strong>Deploy efficiently:</strong>
                      The smaller model is deployed to production for faster inference with minimal resource
                      consumption.</p>
                  </li>
                </ol>
                <h2>
                  <div><a>​</a></div><span>Example workflow: Self-improving models + Distillation</span>
                </h2>
                <ol>
                  <li>
                    <p><strong>Train a self-improving model:</strong>
                      Use Restack’s framework to train an autonomous model with RLEF and run it on
                      <strong>Kubernetes</strong>.
                    </p>
                  </li>
                  <li>
                    <p><strong>Collect feedback:</strong>
                      Integrate Google Vertex AI to execute code and collect runtime feedback (e.g., errors or test
                      failures).</p>
                  </li>
                  <li>
                    <p><strong>Refine model:</strong>
                      The model incorporates feedback and iterates until all tests pass.</p>
                  </li>
                  <li>
                    <p><strong>Distill for production:</strong>
                      When performance is optimal, distill the large model into a <strong>smaller version</strong> for
                      fast deployment.</p>
                  </li>
                  <li>
                    <p><strong>Continuous learning:</strong>
                      Keep updating the large model with new data and periodically distill it into production-ready
                      models.</p>
                  </li>
                </ol>
              </div>
              <div><a><span>Memory</span></a><a><span>Web UI</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>What are self-improving models?</a></li>
                <li><a>How to use in combination</a></li>
                <li><a>How to build Restack workflows for RLEF</a></li>
                <li><a>Reinforcement Learning with Execution Feedback (RLEF)</a></li>
                <li><a>Workflow for RLEF:</a></li>
                <li><a>Distillation</a></li>
                <li><a>How Distillation Works:</a></li>
                <li><a>Example workflow: Self-improving models + Distillation</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Multi step workflows - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Features</span></div>
              <div>Multi step workflows</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Features</div>
                  <div>
                    <h1>Multi step workflows</h1>
                  </div>
                </div>
              </header>
              <div>
                <p>To build autonomous AI applications, you need a system capable of coordinating multiple steps:
                  calling models, making API requests, and executing logic, all while maintaining state over weeks or
                  even months reliably.
                  To address that, the Restack framework offers <code>step</code> to organize your basic functions into
                  workflows. You write your calls and business logic as basic asynchronous functions and then use
                  <code>step</code> to define how these functions flow together.
                </p>
                <p>Let’s go through the process of creating and scheduling a multi-step workflow:</p>
                <ol>
                  <li>Write your business logic in async functions.</li>
                  <li>Use <code>step</code> to define a workflow of functions.</li>
                  <li>Start a client.</li>
                  <li>Start a service including your workflow and functions.</li>
                  <li>Schedule the workflow to be executed.</li>
                </ol>
                <p>When creating a Restack project, we recommend following the structure below.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>📂 get-started</span>
                        <span> |-- 📂 src</span>
                        <span> | |-- 📂 functions</span>
                        <span> | | |-- 📄 functions.ts</span>
                        <span> | |-- 📂 workflows</span>
                        <span> | | |-- 📄 workflow.ts</span>
                        <span> | |-- 📄 client.ts</span>
                        <span> | |-- 📄 service.ts</span>
                        <span> |-- 📄 scheduleWorkflow.ts</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 1: Create your functions</span>
                </h2>
                <p>In the functions folder, four asynchronous functions are defined and exported. These functions handle
                  tasks such as analyzing email content, generating responses using OpenAI, forwarding emails to a human
                  agent, and sending email replies.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>export</span> <span>function</span>
                          <span>analyzeEmail</span><span>(</span>emailContent<span>:</span>
                          <span>string</span><span>)</span> <span>{</span></span>
                        <span>// Function logic</span>
                        <span> <span>return</span> <span>"Analyzed email content"</span><span>;</span></span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>openAiPrompt</span><span>(</span>prompt<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span>// Function logic</span>
                        <span> <span>return</span> <span>"OpenAI response"</span><span>;</span></span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>forwardEmailToHuman</span><span>(</span></span>
                        <span> emailAddress<span>:</span> <span>string</span><span>,</span></span>
                        <span> emailContent<span>:</span> <span>string</span></span>
                        <span><span>)</span> <span>{</span></span>
                        <span>// Function logic</span>
                        <span>}</span>
                        <span><span>export</span> <span>function</span>
                          <span>sendEmail</span><span>(</span>response<span>:</span> <span>string</span><span>)</span>
                          <span>{</span></span>
                        <span>// Function logic</span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 2: Write a multi-step workflow</span>
                </h2>
                <p>The workflow is defined in workflow.ts using the step primitive to orchestrate the functions. Each
                  step represents a function call, and the flow is controlled based on the outputs of these functions.
                </p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> step <span>}</span> <span>from</span>
                          <span>"@restackio/ai/workflow"</span><span>;</span></span>
                        <span>// Define a workflow for handling customer support emails</span>
                        <span><span>export</span> <span>async</span> <span>function</span>
                          <span>customerSupportEmailWorkflow</span><span>(</span>emailContent<span>:</span>
                          <span>string</span><span>)</span> <span>{</span></span>
                        <span>// Step 1: Read and analyze the customer support email content</span>
                        <span> <span>const</span> emailAnalysis <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>analyzeEmail</span><span>(</span>emailContent<span>)</span><span>;</span></span>
                        <span>// Step 2: Use OpenAI to generate a response and decide whether to handle automatically or
                          escalate</span>
                        <span> <span>const</span> openAiResponse <span>=</span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>openAiPrompt</span><span>(</span>`</span>
                        <span> Analyze <span>this</span> customer support request and provide a response<span>.</span>
                        </span>
                        <span> If the request <span>is</span> technical and complex<span>,</span> reply
                          <span>with</span> <span>'forward to human'</span><span>.</span> </span>
                        <span> Otherwise<span>,</span> draft an appropriate response<span>:</span> </span>
                        <span> $<span>{</span>emailAnalysis<span>}</span></span>
                        <span> `<span>)</span><span>;</span></span>
                        <span>// Step 3: Triage based on OpenAI's response</span>
                        <span> <span>if</span> <span>(</span>openAiResponse <span>===</span> <span>"forward to
                            human"</span><span>)</span> <span>{</span></span>
                        <span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>forwardEmailToHuman</span><span>(</span></span>
                        <span> <span>"technical_support@company.com"</span><span>,</span></span>
                        <span> emailContent</span>
                        <span> <span>)</span><span>;</span></span>
                        <span> <span>}</span> <span>else</span> <span>{</span></span>
                        <span> <span>await</span>
                          <span>step</span><span>(</span><span>)</span><span>.</span><span>sendEmail</span><span>(</span>openAiResponse<span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>}</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 3: Create a client</span>
                </h2>
                <p>The Restack client is set up in client.ts</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> Restack <span>from</span>
                          <span>"@restackio/ai"</span><span>;</span></span>
                        <span><span>export</span> <span>const</span> client <span>=</span> <span>new</span>
                          <span>Restack</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 4: Start a new service</span>
                </h2>
                <p>The client then registers a service, making your workflows and functions available for execution.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span></span>
                        <span>,</span>
                        <span>,</span>
                        <span>,</span>
                        <span>,</span>
                        <span><span>}</span> <span>from</span> <span>"./supportFunctions"</span><span>;</span></span>
                        <span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./client"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span> <span>services</span><span>(</span><span>)</span>
                          <span>{</span></span>
                        <span>// First, we need to resolve the path of our workflow.ts file</span>
                        <span> <span>const</span> workflowsPath <span>=</span>
                          <span>require</span><span>.</span><span>resolve</span><span>(</span><span>"./workflows/workflow"</span><span>)</span><span>;</span></span>
                        <span>// Second, we pass the path and the functions to the service</span>
                        <span> client<span>.</span><span>startService</span><span>(</span><span>{</span></span>
                        <span>,</span>
                        <span> functions<span>:</span> <span>{</span> analyzeEmail<span>,</span>
                          openAiPrompt<span>,</span> forwardEmailToHuman<span>,</span> sendEmail
                          <span>}</span><span>,</span></span>
                        <span> <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span>// We call the services function to start the service, waiting for workflows</span>
                        <span>// to be scheduled in the next step</span>
                        <span><span>services</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Step 5: Schedule the workflow to be executed</span>
                </h2>
                <p>Finally, the client schedules the workflow to be executed.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>import</span> <span>{</span> client <span>}</span> <span>from</span>
                          <span>"./src/client"</span><span>;</span></span>
                        <span><span>async</span> <span>function</span>
                          <span>scheduleWorkflow</span><span>(</span><span>)</span> <span>{</span></span>
                        <span>// Generate a unique workflowId based on the current timestamp</span>
                        <span> <span>const</span> workflowId <span>=</span>
                          <span><span>`</span><span><span>${</span>Date<span>.</span><span>now</span><span>(</span><span>)</span><span>}</span></span><span>-customerSupportEmailWorkflow</span><span>`</span></span><span>;</span></span>
                        <span>// Schedule the workflow by specifying its name and the generated workflowId</span>
                        <span> <span>const</span> runId <span>=</span> <span>await</span>
                          client<span>.</span><span>scheduleWorkflow</span><span>(</span><span>{</span></span>
                        <span> workflowName<span>:</span>
                          <span>"customerSupportEmailWorkflow"</span><span>,</span></span>
                        <span>,</span>
                        <span>// Fetch the result of the workflow after it runs</span>
                        <span> <span>const</span> result <span>=</span> <span>await</span>
                          client<span>.</span><span>getWorkflowResult</span><span>(</span><span>{</span>
                          workflowId<span>,</span> runId <span>}</span><span>)</span><span>;</span></span>
                        <span>}</span>
                        <span><span>scheduleWorkflow</span><span>(</span><span>)</span><span>;</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Need help?</span>
                </h2>
                <p>Join our community on Discord and ask us if you need a hand deploying your services:
                  <a>https://discord.com/invite/79JuDTNEQm</a>
                </p>
              </div>
              <div><a><span>Services</span></a><a><span>Realtime events</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Step 1: Create your functions</a></li>
                <li><a>Step 2: Write a multi-step workflow</a></li>
                <li><a>Step 3: Create a client</a></li>
                <li><a>Step 4: Start a new service</a></li>
                <li><a>Step 5: Schedule the workflow to be executed</a></li>
                <li><a>Need help?</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Introduction - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Getting started</span></div>
              <div>Introduction</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Getting started</div>
                  <div>
                    <h1>Introduction</h1>
                  </div>
                </div>
                <div>
                  <p>Restack is the open source framework for autonomous intelligence, helping developers build
                    resilient, autonomous AI applications.</p>
                </div>
              </header>
              <div>
                <div>
                  <p>Attending Llama Impact Hackathon on November 8th? <a>Start
                      here</a>.</p>
                </div>
                <p>We designed the framework to address the challenges we encountered while building AI applications:
                  creating truly autonomous workflows where models can execute logic and API calls reliably, maintain
                  state over weeks or months, and self-improve over time based on feedback loops and long-term memory.
                </p>
                <p><em>Example of an autonomous AI multi-step workflow, where the AI helps the user with
                    researching tools asynchronously until it finds one that matches the criteria.</em></p>
                <h2>
                  <div><a>​</a></div><span>Libraries</span>
                </h2>
                <p>Get started with our libraries.</p>
                <div><a>
                    <div>
                      <h2>Python</h2>
                      <div>
                        <p>Get started with Python</p>
                      </div>
                    </div>
                  </a><a>
                    <div>
                      <h2>Typescript</h2>
                      <div>
                        <p>Get started with Typescript</p>
                      </div>
                    </div>
                  </a></div>
                <h2>
                  <div><a>​</a></div><span>Why the Restack framework?</span>
                </h2>
                <ul>
                  <li><a><strong>Durable workflows</strong></a>: Built on Temporal and Kubernetes, Restack enables
                    workflows to run for extended durations, spanning weeks or months. It supports long-lived processes
                    with persistent state, immediate execution, and flexible resource limits.</li>
                  <li><a><strong>Feedback loop</strong></a>: Enables agents to listen for external events providing
                    feedback on their actions, allowing them to adjust and optimize behavior in real time for continuous
                    self-improvement.</li>
                  <li><a><strong>Step-by-step replay</strong></a>: Replay from any specific step, injecting custom
                    inputs without restarting the entire workflow. This allows you to debug efficiently without waiting
                    for the whole execution to run from the beginning.</li>
                  <li><a><strong>Event handling</strong></a>: Includes built-in primitives for event management,
                    allowing you to define, listen for, and emit events reliably without managing the underlying
                    infrastructure. &gt; Listen to real time events</li>
                  <li><a><strong>Scheduling or crons</strong></a>: Provides scheduling as a first-class primitive.
                    Ensures robust execution with automatic retries, fault tolerance, and time-based triggers.</li>
                  <li><a><strong>Concurrency and rate limits</strong></a>: Allows setting application-level rate limits,
                    automatically enforcing them even during parallel execution.</li>
                  <li><a><strong>Long-term memory</strong></a>: Complete state of workflow and function executions is
                    captured, so you can have long-term memory management natively, enabling your autonomous AI to learn
                    from historical data while maintaining low storage costs.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>What you can build</span>
                </h2>
                <ul>
                  <li><strong>Agentic workflows</strong>: Enables the definition of dynamic functions that agents can
                    execute based on real-time decisions, simplifying the management of decision-making processes and
                    coordinating function execution based on current data and context.</li>
                  <li><strong>Human-in-the-loop</strong>: Allows workflows to pause and wait for human input without
                    consuming resources, remaining active until a specified event is triggered. This facilitates
                    efficient integration of human feedback into workflows.</li>
                  <li><strong>Multi-agent coordination</strong>: Facilitates asynchronous communication and coordination
                    between agents through event-driven messaging within workflows, supporting non-blocking operations
                    while waiting for responses.</li>
                  <li><a><strong>Feedback loop</strong></a>: Enables agents to listen for external events providing
                    feedback on their actions, allowing them to adjust and optimize behavior in real time for continuous
                    self-improvement.</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Getting help</span>
                </h2>
                <p>We’d love to hear from you or give you a hand getting started.</p>
                <a>
                  <div>
                    <h2>Join our community on Discord</h2>
                    <div>
                      <p>Join our Discord to get help from the community and connect with our
                        engineers.</p>
                    </div>
                  </div>
                </a>
              </div>
              <div><a><span>Architecture</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Libraries</a></li>
                <li><a>Why the Restack framework?</a></li>
                <li><a>What you can build</a></li>
                <li><a>Getting help</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Quickstart - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Python</span></div>
              <div>Quickstart</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Python</div>
                  <div>
                    <h1>Quickstart</h1>
                  </div>
                </div>
                <div>
                  <p>Run the get-starter example to learn how to build a basic two-step workflow.</p>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Prerequisites</span>
                </h2>
                <p>Before you begin, make sure you have:</p>
                <ul>
                  <li>Python 3.8 or higher</li>
                  <li>Poetry (for dependency management)</li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Start local engine</span>
                </h2>
                <p>The engine is responsible for reliably orchestrating your workflows. For local development, your code
                  will run in a Docker container. For production, we provide Kubernetes deployment options, either on
                  Restack Cloud or on your own Kubernetes cluster.</p>
                <p>Using `docker run`:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>docker</span> run <span>-d</span> <span>--pull</span> always
                          <span>--name</span> studio <span>-p</span> <span>5233</span>:5233 <span>-p</span>
                          <span>6233</span>:6233 <span>-p</span> <span>7233</span>:7233
                          ghcr.io/restackio/restack:main</span>
                      </code></pre>
                  </div>
                </div>
                <p>This will force repulling and rebuilding.</p>
                <h2>
                  <div><a>​</a></div><span>Open the Web UI</span>
                </h2>
                <p>Once the local engine is running, visit the Web UI at <a>http://localhost:5233</a></p>
                <h2>
                  <div><a>​</a></div><span>Clone the examples repository</span>
                </h2>
                <p>Clone the examples repository and navigate to the get-started example:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>git</span>
                        <span>cd</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Install dependencies</span>
                </h2>
                <p>Install dependencies using Poetry:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>install</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Project structure</span>
                </h2>
                <p>Take a moment and look at the project structure:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>📂 get-started</span>
                        <span> |-- 📂 src</span>
                        <span> | |-- 📂 functions</span>
                        <span> | | |-- 📄 functions.py</span>
                        <span> | |-- 📂 workflows</span>
                        <span> | | |-- 📄 workflow.py</span>
                        <span> | |-- 📄 client.py</span>
                        <span> | |-- 📄 service.py</span>
                        <span> |-- 📄 schedule_workflow.py</span>
                      </code></pre>
                  </div>
                </div>
                <p>The example’s structure breaks down the core components of the framework.</p>
                <ul>
                  <li>Functions folder: Contains your Python functions with business logic.</li>
                  <li>Workflows folder: Contains the workflows that specify the execution order of the functions. Learn
                    more about <a>workflows</a></li>
                  <li>client.py: Initializes the Restack Client, which starts services and schedules workflows. Learn
                    more about the <a>client</a></li>
                  <li>services.py: Contains your services, long-running background processes ready to execute workflows
                    and functions whenever they get scheduled. <a>services</a></li>
                  <li>schedule_workflow.py: Schedules a workflow to be executed by the service.</li>
                </ul>
                <p>Open a shell to interact with the project:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry shell</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Start services</span>
                </h2>
                <p>Start your services that will execute the workflow in the background.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry run services</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Schedule the workflow in a separate shell</span>
                </h2>
                <p>In a <strong>separate terminal</strong>, schedule the workflow to start immediately.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry shell</span>
                      </code></pre>
                  </div>
                </div>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>poetry run schedule</span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>Congratulations, you have run your first workflow</span>
                </h2>
                <p>Visit the Web UI to see your workflow already executed by the service: <a>http://localhost:5233</a>
                </p>
                <h2>
                  <div><a>​</a></div><span>Next Steps</span>
                </h2>
                <a>
                  <div>
                    <h2>Get started: fork the example repo</h2>
                    <div>
                      <p>Fork the example repository to start building your own autonomous AI product</p>
                    </div>
                  </div>
                </a>
                <a>
                  <div>
                    <h2>Advanced: clone our Autonomous browser repo</h2>
                    <div>
                      <p>Monitor HN for interesting projects and create todos to reach out to their
                        creators.</p>
                    </div>
                  </div>
                </a>
                <a>
                  <div>
                    <h2>Join our community on Discord</h2>
                    <div>
                      <p>Join our Discord to get help from the community and connect with our
                        engineers.</p>
                    </div>
                  </div>
                </a>
                <p>We’d love to hear from you and help you get started.</p>
              </div>
              <div><a><span>Services</span></a><a><span>Client</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Prerequisites</a></li>
                <li><a>Start local engine</a></li>
                <li><a>Open the Web UI</a></li>
                <li><a>Clone the examples repository</a></li>
                <li><a>Install dependencies</a></li>
                <li><a>Project structure</a></li>
                <li><a>Start services</a></li>
                <li><a>Schedule the workflow in a separate shell</a></li>
                <li><a>Congratulations, you have run your first workflow</a></li>
                <li><a>Next Steps</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Client - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Client</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Client</h1>
                  </div>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>The client is an instance of the Restack class imported from <code>restack_ai</code>. It serves as
                  the primary interface for interacting with the Restack engine, allowing you to schedule workflows,
                  send events, and manage services.</p>
                <p>You can initialize the Restack client with or without connection options:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span># Without connection options (for local development)</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span># With connection options (for production or custom setups)</span>
                        <span>connection_options <span>=</span> <span>{</span></span>
                        <span> <span>"engine_id"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_ID"</span><span>)</span><span>,</span></span>
                        <span> <span>"address"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_ADDRESS"</span><span>)</span><span>,</span></span>
                        <span> <span>"api_key"</span><span>:</span>
                          os<span>.</span>getenv<span>(</span><span>"RESTACK_ENGINE_API_KEY"</span><span>)</span><span>,</span></span>
                        <span>}</span>
                        <span>client <span>=</span> Restack<span>(</span>connection_options<span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <h2>
                  <div><a>​</a></div><span>schedule_workflow</span>
                </h2>
                <p>Use <code>client.schedule_workflow()</code> to start a new workflow execution.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>run_id <span>=</span> <span>await</span>
                          client<span>.</span>schedule_workflow<span>(</span><span>{</span></span>
                        <span> <span>"workflow_name"</span><span>:</span>
                          <span>"exampleWorkflow"</span><span>,</span></span>
                        <span> <span>"workflow_id"</span><span>:</span> <span>"unique-id"</span><span>,</span></span>
                        <span> <span>"input"</span><span>:</span> <span>{</span><span>"key"</span><span>:</span>
                          <span>"value"</span><span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>workflow_name</code> (string, required): The name of the workflow to be scheduled.</li>
                  <li><code>workflow_id</code> (string, required): A unique identifier for this workflow execution.</li>
                  <li><code>input</code> (dict, optional): Input parameters for the workflow.</li>
                  <li><code>schedule</code> (dict, optional): Defines when the workflow should be executed.
                    The schedule object can contain the following properties:
                    <ul>
                      <li><code>calendars</code> (list of dicts): Defines recurring execution times.
                        <ul>
                          <li><code>day_of_week</code> (string): Day of the week (0-6, where 0 is Sunday) or
                            <code>*</code> for every day.
                          </li>
                          <li><code>hour</code> (int): Hour of the day (0-23) when the workflow should run.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
                <p>For detailed documentation on the schedule object, refer to the <a>Schedules</a> documentation.</p>
                <h2>
                  <div><a>​</a></div><span>start_service</span>
                </h2>
                <p>Use <code>client.start_service()</code> to initialize and run services that execute your workflows
                  and functions.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>await</span>
                          client<span>.</span>start_service<span>(</span><span>{</span></span>
                        <span> <span>"workflows_path"</span><span>:</span>
                          <span>"./path/to/workflows"</span><span>,</span></span>
                        <span> <span>"functions"</span><span>:</span>
                          <span>{</span><span>"example_function"</span><span>:</span>
                          example_function<span>}</span><span>,</span></span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>options</code> (dict, required): An object containing the following properties:
                    <ul>
                      <li><code>workflows_path</code> (string, required): The path to the workflows directory.</li>
                      <li><code>functions</code> (dict, optional): An object containing function definitions to be used
                        in the service.</li>
                      <li><code>task_queue</code> (string, optional): The name of the task queue for this service. When
                        not provided, it will use the default taskQueue: restack</li>
                      <li><code>options</code> (dict, optional): Additional options for the service.
                        <ul>
                          <li><code>rate_limit</code> (int, optional): The rate limit for the service in requests per
                            minute.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>send_workflow_event</span>
                </h2>
                <p>Use <code>client.send_workflow_event()</code> to send events to running workflows.</p>
                <p>Consider that the events should be defined with <code>event.define_event</code> and listened with
                  <code>event.on_event</code>.
                </p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span>client<span>.</span>send_workflow_event<span>(</span><span>{</span></span>
                        <span> <span>"event"</span><span>:</span> <span>{</span></span>
                        <span> <span>"name"</span><span>:</span> <span>"eventName"</span><span>,</span></span>
                        <span> <span>"input"</span><span>:</span> <span>{</span><span>"key"</span><span>:</span>
                          <span>"value"</span><span>}</span></span>
                        <span> <span>}</span><span>,</span></span>
                        <span> <span>"workflow"</span><span>:</span> <span>{</span></span>
                        <span> <span>"workflow_id"</span><span>:</span> <span>"workflow-id"</span><span>,</span></span>
                        <span> <span>"run_id"</span><span>:</span> <span>"run-id"</span></span>
                        <span>}</span>
                        <span><span>}</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>options</code> (dict, required): An object containing the following properties:
                    <ul>
                      <li><code>event</code> (dict, required): Details of the event to be sent.
                        <ul>
                          <li><code>name</code> (string, required): The name of the event.</li>
                          <li><code>input</code> (any, optional): Any input data associated with the event.</li>
                        </ul>
                      </li>
                      <li><code>workflow</code> (dict, required): Information about the target workflow.
                        <ul>
                          <li><code>workflow_id</code> (string, required): The ID of the target workflow.</li>
                          <li><code>run_id</code> (string, required): The run ID of the target workflow execution.</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div><a><span>Quickstart</span></a><a><span>Workflows</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>schedule_workflow</a></li>
                <li><a>start_service</a></li>
                <li><a>send_workflow_event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Events - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Events</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Events</h1>
                  </div>
                </div>
              </header>
              <div>
                <h3>
                  <div><a>​</a></div><span>Overview</span>
                </h3>
                <p>The Restack AI library provides events for asynchronous, event-driven programming. Three key
                  components work together to handle events:</p>
                <ul>
                  <li><code>define_event</code>: Declares the structure and type of events.</li>
                  <li><code>on_event</code>: Listens for and handles events within workflows.</li>
                  <li><code>client.send_workflow_event</code>: To send an event to a workflow, you need a client
                    instance. Refer to the Client documentation for instructions on sending events.</li>
                </ul>
                <h3>
                  <div><a>​</a></div><span>define_event</span>
                </h3>
                <p><code>define_event</code> is used to declare an event within a workflow.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>event <span>import</span>
                          define_event</span>
                        <span>stream_name <span>=</span>
                          define_event<span>(</span><span>"stream_info"</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>event_name</code> (str): The name of the event.</li>
                </ul>
                <h3>
                  <div><a>​</a></div><span>on_event</span>
                </h3>
                <p><code>on_event</code> is used to register an event handler for a specific event within a workflow.
                  When the specified event is emitted, the associated handler function is executed.</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>event <span>import</span> on_event</span>
                        <span>on_event<span>(</span>my_event<span>,</span> <span>async</span>
                          <span>def</span><span>(</span>event_data<span>)</span><span>:</span></span>
                        <span># Event handling logic</span>
                        <span>)</span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>event</code> (Event object): The event to listen for, typically created using
                    <code>define_event</code>.
                  </li>
                  <li><code>handler</code> (function): The function to be executed when the event occurs.</li>
                </ul>
              </div>
              <div><a><span>Workflows</span></a><a><span>Services</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
                <li><a>define_event</a></li>
                <li><a>on_event</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Services - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Services</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Services</h1>
                  </div>
                </div>
              </header>
              <div>
                <h1>
                  <div><a>​</a></div><span>Services</span>
                </h1>
                <p>Services are long-running background processes that subscribe to a task queue to execute functions
                  and workflows. When a service is started, it listens for tasks in the queue and runs them as they are
                  scheduled. If no specific task queue is defined, the service automatically subscribes to the default
                  ‘restack’ queue.</p>
                <h2>
                  <div><a>​</a></div><span>Creating a Service</span>
                </h2>
                <p>To create a service, you need to use the <code>start_service</code> method of the Restack client.
                  Here’s an example of how to create a service:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span><span>from</span> functions<span>.</span>my_custom_function <span>import</span>
                          my_custom_function</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_1 <span>import</span>
                          workflow_1</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span> <span>[</span>workflow_1<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>my_custom_function<span>]</span><span>,</span></span>
                        <span>)</span>
                        <span><span>def</span>
                          <span>run_services</span><span>(</span><span>)</span><span>:</span></span>
                        <span>
                          asyncio<span>.</span>run<span>(</span>custom_service<span>(</span><span>)</span><span>)</span></span>
                        <span><span>if</span> __name__ <span>==</span>
                          <span>"__custom_service__"</span><span>:</span></span>
                        <span> run_services<span>(</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, <code>my_custom_function</code> is a custom function defined by the user and
                  imported from the <code>functions</code> module. The service is set up to use this function and a
                  custom task queue.</p>
                <h2>
                  <div><a>​</a></div><span>Service Configuration</span>
                </h2>
                <p>The <code>start_service</code> method accepts an object with the following properties:</p>
                <ul>
                  <li><code>workflows</code> (optional): A dictionary containing the workflows to be registered with the
                    service.</li>
                  <li><code>functions</code> (optional): A dictionary containing the functions to be registered with the
                    service.</li>
                  <li><code>task_queue</code> (optional): A string representing the name of the task queue. Default is
                    “restack”.</li>
                  <li><code>options</code> (optional): A dictionary with additional options for the service:
                    <ul>
                      <li><code>rate_limit</code> (optional): The rate limit for functions.</li>
                      <li><code>max_concurrent_workflow_runs</code> (optional): The maximum number of concurrent
                        workflow runs.</li>
                      <li><code>max_concurrent_function_runs</code> (optional): The maximum number of concurrent
                        function runs.</li>
                    </ul>
                  </li>
                </ul>
                <h2>
                  <div><a>​</a></div><span>Running Multiple Services</span>
                </h2>
                <p>You can run multiple services in the same application by calling <code>start_service</code> multiple
                  times with different configurations:</p>
                <div>
                  <div>Copy</div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai <span>import</span> Restack</span>
                        <span><span>from</span> functions<span>.</span>my_custom_function <span>import</span>
                          my_custom_function</span>
                        <span><span>from</span> functions<span>.</span>another_custom_function <span>import</span>
                          another_custom_function</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_1 <span>import</span>
                          workflow_1</span>
                        <span><span>from</span> src<span>.</span>workflows<span>.</span>workflow_2 <span>import</span>
                          workflow_2</span>
                        <span>import</span>
                        <span>client <span>=</span> Restack<span>(</span><span>)</span></span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service_1</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span><span>[</span>workflow_1<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>my_custom_function<span>]</span><span>,</span></span>
                        <span> task_queue<span>=</span><span>"queue_1"</span></span>
                        <span>)</span>
                        <span><span>async</span> <span>def</span>
                          <span>custom_service_2</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span> client<span>.</span>start_service<span>(</span></span>
                        <span> workflows<span>=</span><span>[</span>workflow_2<span>]</span><span>,</span></span>
                        <span>
                          functions<span>=</span><span>[</span>another_custom_function<span>]</span><span>,</span></span>
                        <span> task_queue<span>=</span><span>"queue_2"</span></span>
                        <span>)</span>
                        <span><span>async</span> <span>def</span>
                          <span>run_services</span><span>(</span><span>)</span><span>:</span></span>
                        <span> <span>await</span>
                          asyncio<span>.</span>gather<span>(</span>custom_service_1<span>(</span><span>)</span><span>,</span>
                          custom_service_2<span>(</span><span>)</span><span>)</span></span>
                        <span><span>if</span> __name__ <span>==</span> <span>"__main__"</span><span>:</span></span>
                        <span>
                          asyncio<span>.</span>run<span>(</span>run_services<span>(</span><span>)</span><span>)</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>In this example, <code>custom_function1</code> and <code>custom_function2</code> are user-defined
                  functions imported from separate modules.</p>
              </div>
              <div><a><span>Events</span></a><a><span>Multi step workflows</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Services</a></li>
                <li><a>Creating a Service</a></li>
                <li><a>Service Configuration</a></li>
                <li><a>Running Multiple Services</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <title>Workflows - Restack</title>
</head>

<body>
  <div>
    <main>
      <div>
        <div>
          <div>
            <div><a><span>Restack home page</span></a></div>
            <div>
              <div><span>Reference</span></div>
              <div>Workflows</div>
            </div>
          </div>
          <div><a>Documentation</a><a>Examples</a><a>Restack Cloud</a></div>
        </div>
        <div>
          <div>
            <div>
              <h5>Getting started</h5>
              <ul>
                <li><a>
                    <div>Introduction</div>
                  </a></li>
                <li><a>
                    <div>Architecture</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Libraries</h5>
              <ul>
                <li>
                  <div>Typescript</div>
                </li>
                <li>
                  <div>Python</div>
                  <ul>
                    <li><a>
                        <div>Quickstart</div>
                      </a></li>
                    <li>
                      <div>Reference</div>
                      <ul>
                        <li><a>
                            <div>Client</div>
                          </a></li>
                        <li><a>
                            <div>Workflows</div>
                          </a></li>
                        <li><a>
                            <div>Events</div>
                          </a></li>
                        <li><a>
                            <div>Services</div>
                          </a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div>
              <h5>Features</h5>
              <ul>
                <li><a>
                    <div>Multi step workflows</div>
                  </a></li>
                <li><a>
                    <div>Realtime events</div>
                  </a></li>
                <li><a>
                    <div>Feedback loops</div>
                  </a></li>
                <li><a>
                    <div>Schedules</div>
                  </a></li>
                <li><a>
                    <div>Rate limits</div>
                  </a></li>
                <li><a>
                    <div>Memory</div>
                  </a></li>
                <li><a>
                    <div>Self-improving models</div>
                  </a></li>
                <li><a>
                    <div>Web UI</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Deploying</h5>
              <ul>
                <li><a>
                    <div>Self host</div>
                  </a></li>
              </ul>
            </div>
            <div>
              <h5>Community</h5>
              <ul>
                <li>
                  <div>Hackathons</div>
                </li>
                <li><a>
                    <div>Contributing guidelines</div>
                  </a></li>
                <li><a>
                    <div>Earn by building</div>
                  </a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <header>
                <div>
                  <div>Reference</div>
                  <div>
                    <h1>Workflows</h1>
                  </div>
                </div>
              </header>
              <div>
                <h2>
                  <div><a>​</a></div><span>Overview</span>
                </h2>
                <p>A workflow is an asynchronous function that defines the sequence of steps for your autonomous AI. It
                  outlines actions such as model calls, data processing, and conditional logic.</p>
                <div>
                  <div>
                    <div>workflow.py</div>
                    <div>Copy</div>
                  </div>
                  <div>
                    <pre><code><span><span>from</span> restack_ai<span>.</span>workflow <span>import</span>
                          workflow<span>,</span> import_functions</span>
                        <span><span>from</span> datetime <span>import</span> timedelta</span>
                        <span><span>from</span> pydantic <span>import</span> BaseModel</span>
                        <span><span>from</span> src<span>.</span>functions<span>.</span>hn<span>.</span>schema
                          <span>import</span> HnSearchInput</span>
                        <span><span>with</span> import_functions<span>(</span><span>)</span><span>:</span></span>
                        <span> <span>from</span> src<span>.</span>functions<span>.</span>openai<span>.</span>chat
                          <span>import</span> openai_todos<span>,</span> FunctionInputParams</span>
                        <span> <span>from</span> src<span>.</span>functions<span>.</span>hn<span>.</span>search
                          <span>import</span> tool_hn_search</span>
                        <span><span>class</span>
                          <span>WorkflowInputParams</span><span>(</span>BaseModel<span>)</span><span>:</span></span>
                        <span>pass</span>
                        <span><span>.</span><span>(</span>name<span>=</span><span>"automatedWorkflow"</span><span>)</span></span>
                        <span><span>class</span> <span>AutomatedWorkflow</span><span>:</span></span>
                        <span>.</span>
                        <span> <span>async</span> <span>def</span> <span>run</span><span>(</span>self<span>,</span>
                          <span>input</span><span>:</span> WorkflowInputParams<span>)</span><span>:</span></span>
                        <span> hn_results <span>=</span> <span>await</span>
                          workflow<span>.</span>step<span>(</span>tool_hn_search<span>,</span>
                          HnSearchInput<span>(</span>query<span>=</span><span>"ai"</span><span>)</span><span>,</span>
                          start_to_close_timeout<span>=</span>timedelta<span>(</span>seconds<span>=</span><span>10</span><span>)</span><span>)</span></span>
                        <span> user_content <span>=</span> <span><span>f"You are a personal assistant. Here is the
                              latest hacker news data:
                            </span><span><span>{</span><span>str</span><span>(</span>hn_results<span>)</span><span>}</span></span><span>
                              Create a todo for me to contact the founder with a one sentence summary of their
                              product"</span></span></span>
                        <span> result <span>=</span> <span>await</span>
                          workflow<span>.</span>step<span>(</span>openai_todos<span>,</span>
                          FunctionInputParams<span>(</span>user_content<span>=</span>user_content<span>)</span><span>,</span>
                          start_to_close_timeout<span>=</span>timedelta<span>(</span>seconds<span>=</span><span>10</span><span>)</span><span>)</span></span>
                        <span> <span>return</span> <span>{</span><span>"result"</span><span>:</span>
                          result<span>}</span></span>
                      </code></pre>
                  </div>
                </div>
                <p>Parameters:</p>
                <ul>
                  <li><code>task_queue</code> (str, optional): Specifies the task queue for the step. Defaults to the
                    restack taskQueue if not set.</li>
                  <li><code>schedule_to_close_timeout</code> (str, optional): Sets the maximum duration allowed for the
                    task to complete from the time it is scheduled. The value is a string representing a duration.
                    Format: ” ”, where unit can be “second(s)”, “minute(s)”, “hour(s)”, “day(s)“</li>
                  <li><code>schedule_to_start_timeout</code> (str, optional): Defines the maximum time allowed before
                    task execution begins. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>start_to_close_timeout</code> (str, optional): Specifies the maximum time allowed for task
                    completion after starting. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>heartbeat_timeout</code> (str, optional): Determines the interval for sending heartbeat
                    signals. Format: Uses the same format as schedule_to_close_timeout.</li>
                  <li><code>retry_policy</code> (dict, optional): Configures the retry strategy for the task.
                    <ul>
                      <li><code>maximum_attempts</code> (int): Maximum number of retry attempts.</li>
                      <li><code>initial_interval</code> (str): Initial delay before the first retry, using the same time
                        format as timeouts.</li>
                      <li><code>maximum_interval</code> (str): Maximum delay between retries, using the same time format
                        as timeouts.</li>
                      <li><code>backoff_coefficient</code> (float): Factor by which the retry interval increases with
                        each attempt.</li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div><a><span>Client</span></a><a><span>Events</span></a></div>
            </div>
            <div>
              <div><span>On this page</span></div>
              <ul>
                <li><a>Overview</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>
